# Test configuration for the Ingestion Service
# Override settings for testing environment

# Server configuration
server.port=0

# Spring Boot configuration
spring.profiles.active=test
spring.application.name=ingestion-service-test

# Camel configuration
camel.springboot.name=PaymentIngestionTestContext
camel.springboot.main-run-controller=true
camel.component.jms.enabled=false

# File input configuration (for testing)
ingestion.file.input.directory=/tmp/test-payments-in
ingestion.file.pattern=.*\\.xml
ingestion.file.processed.directory=/tmp/test-payments-processed

# MQ configuration (mock for testing)
ingestion.mq.host=localhost
ingestion.mq.port=1414
ingestion.mq.channel=DEV.APP.SVRCONN
ingestion.mq.manager=QM1
ingestion.mq.queue=DEV.QUEUE.PAYMENTS

# Kafka configuration (mock for testing)
ingestion.kafka.bootstrap-servers=localhost:9092
ingestion.kafka.topic.pacs008=test-payments-pacs008
ingestion.kafka.topic.pan001=test-payments-pan001
ingestion.kafka.topic.rejected=test-payments-rejected
ingestion.kafka.topic.errors=test-payments-errors

# Referenciel API configuration (mock for testing)
ingestion.referenciel.api.base-url=http://localhost:8080/api/v1

# Validation configuration
ingestion.validation.enabled=true
ingestion.validation.strict=false

# Idempotence configuration
ingestion.idempotence.enabled=true
ingestion.idempotence.cache-size=1000
ingestion.idempotence.ttl=3600

# Monitoring configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.endpoint.info.enabled=true

# Logging configuration
logging.level.org.apache.camel=DEBUG
logging.level.com.pixel.v2.ingestion=DEBUG
logging.level.org.springframework=INFO