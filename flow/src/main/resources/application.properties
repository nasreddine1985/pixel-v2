# Spring Boot Configuration
spring.application.name=pixel-v2-flow
server.port=8080

# Logging Configuration
logging.level.com.pixel.v2.flow=DEBUG
logging.level.org.apache.camel=INFO
logging.level.org.springframework.jms=DEBUG

# Camel YAML Routes Configuration
camel.springboot.routes-include-pattern=classpath:camel/*.yaml
camel.main.routes-include-pattern=classpath:camel/*.yaml

# Kamelet Configuration
camel.kamelet.location=classpath:/kamelets,classpath*:/kamelets

# Message Processing Configuration
flow.pacs008.queue.name=PACS008_QUEUE
flow.pacs008.error.queue.name=PACS008_ERROR_QUEUE
flow.pacs008.processing.timeout=30000

# JMS Configuration for ActiveMQ Artemis (always active)
spring.artemis.broker-url=tcp://localhost:61616
spring.artemis.user=artemis
spring.artemis.password=artemis
spring.artemis.mode=native

# Camel JMS Configuration
camel.component.jms.connection-factory=#artemisConnectionFactory

# JMS Connection Pool Configuration
spring.jms.cache.enabled=true
spring.jms.cache.consumers=true
spring.jms.cache.producers=true
spring.jms.cache.session-cache-size=10

# Database Tables Configuration
flow.database.pacs008.table=pacs008_messages
flow.database.errors.table=message_errors

# Database Configuration (PostgreSQL - matching k-db-tx configuration)
db.host=localhost
db.port=5432
db.service=pixelv2
db.username=postgres
db.password=root

# DataSource Configuration
spring.datasource.url=jdbc:postgresql://${db.host}:${db.port}/${db.service}
spring.datasource.username=${db.username}
spring.datasource.password=${db.password}
spring.datasource.driver-class-name=org.postgresql.Driver

# Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.validation-timeout=3000
spring.datasource.hikari.leak-detection-threshold=60000

# JPA Configuration (PostgreSQL)
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=false

# Transaction Configuration
spring.jpa.properties.hibernate.connection.autocommit=false
spring.transaction.default-timeout=30

# Enable JPA repositories for k-db-tx
spring.data.jpa.repositories.enabled=true