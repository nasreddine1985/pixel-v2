# Spring Boot Configuration
spring.application.name=pixel-v2-flow
server.port=8080

# Logging Configuration
logging.level.com.pixel.v2.flow=DEBUG
logging.level.org.apache.camel=DEBUG
logging.level.org.apache.camel.dsl.yaml=DEBUG
logging.level.org.apache.camel.impl.engine.DefaultRouteLoader=DEBUG
logging.level.org.apache.camel.main.DefaultRoutesCollector=DEBUG

# File Logging Configuration
logging.file.name=logs/pixel-v2-flow.log
logging.file.max-size=50MB
logging.file.max-history=10
logging.logback.rollingpolicy.file-name-pattern=logs/pixel-v2-flow-%d{yyyy-MM-dd}.%i.log
logging.logback.rollingpolicy.max-file-size=50MB
logging.logback.rollingpolicy.total-size-cap=500MB

# Logging Pattern Configuration
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# Camel Configuration - Using Java DSL RouteBuilder components
# No YAML route loading needed - routes defined in Java @Component RouteBuilder classes

# Kamelet Configuration
camel.kamelet.location=classpath:/kamelets,classpath*:/kamelets

# Message Processing Configuration
flow.pacs008.queue.name=PACS008_QUEUE
flow.pacs008.error.queue.name=PACS008_ERROR_QUEUE
flow.pacs008.processing.timeout=30000

# Batch Aggregation Configuration
flow.pacs008.batch.completion-size=1000
flow.pacs008.batch.completion-timeout=5000


# JMS Configuration for DefaultJmsConfig (k-mq-message-receiver internal config)
mq.broker-url=tcp://localhost:61616
mq.user=artemis
mq.password=artemis
mq.acknowledgment-mode=CLIENT_ACKNOWLEDGE
mq.session-transacted=true

# Database Tables Configuration
flow.database.pacs008.table=pacs008_messages
flow.database.errors.table=message_errors

# Database Configuration (PostgreSQL - matching k-db-tx configuration)
db.host=localhost
db.port=5432
db.service=pixelv2
db.username=postgres
db.password=root

# DataSource Configuration
spring.datasource.url=jdbc:postgresql://${db.host}:${db.port}/${db.service}
spring.datasource.username=${db.username}
spring.datasource.password=${db.password}
spring.datasource.driver-class-name=org.postgresql.Driver

# Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.validation-timeout=3000
spring.datasource.hikari.leak-detection-threshold=60000

# JPA Configuration (PostgreSQL)
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=false

# Transaction Configuration
spring.jpa.properties.hibernate.connection.autocommit=false
spring.transaction.default-timeout=30

# Enable JPA repositories for k-db-tx
spring.data.jpa.repositories.enabled=true