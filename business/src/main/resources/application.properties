# Payment Message Processing Service Configuration

# Application Info
spring.application.name=payment-message-processing
management.endpoint.health.show-details=always

# Server Configuration for HTTP endpoints
server.port=8081
server.servlet.context-path=/

# Apache Camel Configuration
camel.springboot.name=payment-processing-camel
camel.springboot.main-run-controller=true
camel.springboot.jmx-enabled=true

# Processing Configuration
processing.kafka.input.endpoint=direct:kafka-message-processing
processing.cdm.output.endpoint=direct:cdm-output
processing.error.endpoint=direct:error-handling

# Kafka Configuration (for connecting to k-kafka-message-receiver output)
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.consumer.group-id=payment-processing-service
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer

# Kafka Topics
kafka.topics.input=payment-events
kafka.topics.cdm-output=cdm-transformed-messages

# Transformer Kamelet Configuration
transformers.pacs008.endpoint=kamelet:k-pacs-008-to-cdm
transformers.pacs009.endpoint=kamelet:k-pacs009-to-cdm-transformer
transformers.pain001.endpoint=kamelet:k-pain001-to-cdm-transformer
transformers.camt053.endpoint=kamelet:k-camt053-to-cdm-transformer

# Direct HTTP Integration Configuration (from ingestion module)
business.http.direct.enabled=true
business.http.direct.base-path=/business/api/direct

# Outbound Service Configuration
outbound.service.endpoint=http://localhost:8082/outbound/submit
kafka.output.broker=localhost:9092
kafka.output.topic=cdm-processed-messages

# Logging Configuration
logging.level.com.pixel.v2.processing=INFO
logging.level.org.apache.camel=INFO
logging.level.org.springframework.kafka=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Error Handling Configuration
error.retry.max-attempts=3
error.retry.delay=1000
error.deadletter.endpoint=direct:dead-letter-queue

# Monitoring and Metrics
management.endpoints.web.exposure.include=health,info,metrics,camel
management.endpoint.camel.enabled=true