<?xml version="1.0" encoding="UTF-8"?>
<!-- This file is generated by Kaoto DataMapper. Do not edit. -->
<xsl:stylesheet version="3.0"
      xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
      xmlns:pfx2="http://bnpparibas.com/G02"
      exclude-result-prefixes="pfx2">
	  
	<xsl:output method="xml" indent="yes"/>
	<xsl:param name="FlowCode"/>
	<xsl:template match="/">
		<Document xmlns="urn:iso:std:iso:20022:tech:xsd:pacs.008.001.02">
			<FIToFICstmrCdtTrf>
				<GrpHdr>
					<MsgId>
						<xsl:value-of select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:InstrIdInf/pfx2:MsgId"/>
					</MsgId>
					<CreDtTm>
						<xsl:value-of select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:InstrIdInf/pfx2:CreDtTm"/>
					</CreDtTm>
					<xsl:if test="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:InstrIdInf/pfx2:BtchBookg">
						<BtchBookg>
							<xsl:value-of select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:InstrIdInf/pfx2:BtchBookg"/>
						</BtchBookg>
					</xsl:if>
					<NbOfTxs>
						<xsl:value-of select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:InstrIdInf/pfx2:NbOfTxs"/>
					</NbOfTxs>
					<xsl:choose>
				
						<xsl:when test="$FlowCode = 'ICHSIC' and /pfx2:Document/pfx2:ITLHdr/pfx2:PrtnTo='DOME'">
							<CtrlSum>
								<xsl:value-of select="sum(/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:IntrBkInf/pfx2:AmtInf/pfx2:IntrBkSttlmAmt)"/>
							</CtrlSum>
						</xsl:when>
						<xsl:otherwise>
							<xsl:if test="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:InstrIdInf/pfx2:CtrlSum">
								<CtrlSum>
									<xsl:value-of select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:InstrIdInf/pfx2:CtrlSum"/>
								</CtrlSum>
							</xsl:if>
						</xsl:otherwise>
					</xsl:choose>
					<xsl:choose>
						<xsl:when test="($FlowCode='ICHSIC' and /pfx2:Document/pfx2:ITLHdr/pfx2:PrtnTo='DOME' )&#xA;and &#xA;not(exists(/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:IntrBkInf/pfx2:TtlIntrBkSttlmAmt) and exists(/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:IntrBkInf/pfx2:TtlIntrBkSttlmAmt/@Ccy))">
							<TtlIntrBkSttlmAmt>
								<xsl:attribute name="Ccy">
									<xsl:value-of select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf[1]/pfx2:IntrBkInf/pfx2:AmtInf/pfx2:IntrBkSttlmAmt/@Ccy"/>
								</xsl:attribute>
								<xsl:value-of select="sum(/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:IntrBkInf/pfx2:AmtInf/pfx2:IntrBkSttlmAmt)"/>
							</TtlIntrBkSttlmAmt>
						</xsl:when>
						<xsl:otherwise>
							<xsl:if test="exists(/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:IntrBkInf/pfx2:TtlIntrBkSttlmAmt)">
								<TtlIntrBkSttlmAmt>
									<xsl:attribute name="Ccy">
										<xsl:value-of select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:IntrBkInf/pfx2:TtlIntrBkSttlmAmt/@Ccy"/>
									</xsl:attribute>
									<xsl:value-of select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:IntrBkInf/pfx2:TtlIntrBkSttlmAmt"/>
								</TtlIntrBkSttlmAmt>
							</xsl:if>
						</xsl:otherwise>
					</xsl:choose>
					<xsl:choose>
						<xsl:when test="exists(/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf[1]/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:IntrBkSttlmDt)">
							<xsl:if test="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf[1]/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:IntrBkSttlmDt">
								<IntrBkSttlmDt>
									<xsl:value-of select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf[1]/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:IntrBkSttlmDt"/>
								</IntrBkSttlmDt>
							</xsl:if>
						</xsl:when>
						<xsl:otherwise>
							<xsl:if test="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:IntrBkSttlmDt">
								<IntrBkSttlmDt>
									<xsl:value-of select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:IntrBkSttlmDt"/>
								</IntrBkSttlmDt>
							</xsl:if>
						</xsl:otherwise>
					</xsl:choose>
					<xsl:choose>
						<xsl:when test="$FlowCode='ICHSIC' and /pfx2:Document/pfx2:ITLHdr/pfx2:PrtnTo=&quot;DOME&quot;">
							<xsl:for-each select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:IntrBkInf/pfx2:SttlmTxInf/pfx2:SttlmInf">
								<SttlmInf>
									<SttlmMtd>
										<xsl:value-of select="pfx2:SttlmMtd"/>
									</SttlmMtd>
									<xsl:for-each select="pfx2:SttlmAcct">
										<SttlmAcct>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(pfx2:IBAN)">
															<IBAN>
																<xsl:value-of select="pfx2:IBAN"/>
															</IBAN>
														</xsl:when>
														<xsl:otherwise>
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Othr/pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<xsl:choose>
																		<xsl:when test="exists(pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)">
																			<SchmeNm>
																				<Cd>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Cd"/>
																				</Cd>
																			</SchmeNm>
																		</xsl:when>
																		<xsl:otherwise>
																			<SchmeNm>
																				<Prtry>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry"/>
																				</Prtry>
																			</SchmeNm>
																		</xsl:otherwise>
																	</xsl:choose>
																</xsl:if>
																<xsl:if test="pfx2:Othr/pfx2:Issr">
																	<Issr>
																		<xsl:value-of select="pfx2:Othr/pfx2:Issr"/>
																	</Issr>
																</xsl:if>
															</Othr>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:choose>
														<xsl:when test="exists(pfx2:Cd)">
															<Cd>
																<xsl:value-of select="pfx2:Cd"/>
															</Cd>
														</xsl:when>
														<xsl:otherwise>
															<Prtry>
																<xsl:value-of select="pfx2:Prtry"/>
															</Prtry>
														</xsl:otherwise>
													</xsl:choose>
												</Tp>
											</xsl:for-each>
											<xsl:if test="pfx2:Ccy">
												<Ccy>
													<xsl:value-of select="pfx2:Ccy"/>
												</Ccy>
											</xsl:if>
											<xsl:if test="pfx2:Nm">
												<Nm>
													<xsl:value-of select="pfx2:Nm"/>
												</Nm>
											</xsl:if>
										</SttlmAcct>
									</xsl:for-each>
									<ClrSys>
										<xsl:choose>
											<xsl:when test="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:IntrBkInf/pfx2:AmtInf/pfx2:IntrBkSttlmAmt/@Ccy='CHF'">
												<xsl:choose>
													<xsl:when test="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:TxIdInf/pfx2:PmtTpInf/pfx2:LclInstrm/pfx2:Prtry='ESRDEB'">
														<Prtry>
															<xsl:value-of select="'CHSIC-LSV'"/>
														</Prtry>
													</xsl:when>
													<xsl:when test="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:TxIdInf/pfx2:PmtTpInf/pfx2:LclInstrm/pfx2:Prtry='CSTPMT' and /pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:InitnInf/pfx2:OthrInf/pfx2:RmtInf/pfx2:Strd/pfx2:CdtrRefInf/pfx2:Tp/pfx2:CdOrPrtry/pfx2:Prtry='QRR'">
														<Prtry>
															<xsl:value-of select="'CHSIC-QRR'"/>
														</Prtry>
													</xsl:when>
													<xsl:otherwise>
														<Prtry>
															<xsl:value-of select="'CHSIC'"/>
														</Prtry>
													</xsl:otherwise>
												</xsl:choose>
											</xsl:when>
											<xsl:otherwise>
												<xsl:choose>
													<xsl:when test="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:TxIdInf/pfx2:PmtTpInf/pfx2:LclInstrm/pfx2:Prtry='ESRDEB'">
														<Prtry>
															<xsl:value-of select="'EUROSIC-LSV'"/>
														</Prtry>
													</xsl:when>
													<xsl:when test="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:TxIdInf/pfx2:PmtTpInf/pfx2:LclInstrm/pfx2:Prtry='CSTPMT' and /pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:InitnInf/pfx2:OthrInf/pfx2:RmtInf/pfx2:Strd/pfx2:CdtrRefInf/pfx2:Tp/pfx2:CdOrPrtry/pfx2:Prtry='QRR'">
														<Prtry>
															<xsl:value-of select="'EUROSIC-QRR'"/>
														</Prtry>
													</xsl:when>
													<xsl:otherwise>
														<Prtry>
															<xsl:value-of select="'EUROSIC'"/>
														</Prtry>
													</xsl:otherwise>
												</xsl:choose>
											</xsl:otherwise>
										</xsl:choose>
									</ClrSys>
									<xsl:for-each select="pfx2:InstgRmbrsmntAgt">
										<InstgRmbrsmntAgt>
											<xsl:for-each select="pfx2:FinInstnId">
												<FinInstnId>
													<xsl:if test="current()/pfx2:BICFI">
														<BIC>
															<xsl:value-of select="current()/pfx2:BICFI"/>
														</BIC>
													</xsl:if>
													<xsl:for-each select="pfx2:ClrSysMmbId">
														<ClrSysMmbId>
															<xsl:for-each select="pfx2:ClrSysId">
																<ClrSysId>
																	<xsl:choose>
																		<xsl:when test="exists(pfx2:Cd)">
																			<Cd>
																				<xsl:value-of select="pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</ClrSysId>
															</xsl:for-each>
															<MmbId>
																<xsl:value-of select="pfx2:MmbId"/>
															</MmbId>
														</ClrSysMmbId>
													</xsl:for-each>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="current()/pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
													<xsl:for-each select="pfx2:Othr">
														<Othr>
															<Id>
																<xsl:value-of select="pfx2:Id"/>
															</Id>
															<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																<xsl:for-each select="pfx2:SchmeNm">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:for-each>
															</xsl:if>
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</Othr>
													</xsl:for-each>
												</FinInstnId>
											</xsl:for-each>
											<xsl:for-each select="pfx2:BrnchId">
												<BrnchId>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
												</BrnchId>
											</xsl:for-each>
										</InstgRmbrsmntAgt>
									</xsl:for-each>
									<xsl:for-each select="pfx2:InstgRmbrsmntAgtAcct">
										<InstgRmbrsmntAgtAcct>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(pfx2:IBAN)">
															<IBAN>
																<xsl:value-of select="pfx2:IBAN"/>
															</IBAN>
														</xsl:when>
														<xsl:otherwise>
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Othr/pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:if>
																<Issr>
																	<xsl:value-of select="pfx2:Othr/pfx2:Issr"/>
																</Issr>
															</Othr>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:choose>
														<xsl:when test="exists(pfx2:Cd)">
															<Cd>
																<xsl:value-of select="pfx2:Cd"/>
															</Cd>
														</xsl:when>
														<xsl:otherwise>
															<Prtry>
																<xsl:value-of select="pfx2:Prtry"/>
															</Prtry>
														</xsl:otherwise>
													</xsl:choose>
												</Tp>
											</xsl:for-each>
											<Ccy>
												<xsl:value-of select="pfx2:Ccy"/>
											</Ccy>
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</InstgRmbrsmntAgtAcct>
									</xsl:for-each>
									<xsl:for-each select="pfx2:InstdRmbrsmntAgt">
										<InstdRmbrsmntAgt>
											<xsl:for-each select="pfx2:FinInstnId">
												<FinInstnId>
													<xsl:if test="current()/pfx2:BICFI">
														<BIC>
															<xsl:value-of select="current()/pfx2:BICFI"/>
														</BIC>
													</xsl:if>
													<xsl:for-each select="pfx2:ClrSysMmbId">
														<ClrSysMmbId>
															<xsl:for-each select="pfx2:ClrSysId">
																<ClrSysId>
																	<xsl:choose>
																		<xsl:when test="exists(pfx2:Cd)">
																			<Cd>
																				<xsl:value-of select="pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</ClrSysId>
															</xsl:for-each>
															<MmbId>
																<xsl:value-of select="pfx2:MmbId"/>
															</MmbId>
														</ClrSysMmbId>
													</xsl:for-each>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
													<xsl:for-each select="pfx2:Othr">
														<Othr>
															<Id>
																<xsl:value-of select="pfx2:Id"/>
															</Id>
															<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																<xsl:for-each select="pfx2:SchmeNm">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:for-each>
															</xsl:if>
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</Othr>
													</xsl:for-each>
												</FinInstnId>
											</xsl:for-each>
											<xsl:for-each select="pfx2:BrnchId">
												<BrnchId>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
												</BrnchId>
											</xsl:for-each>
										</InstdRmbrsmntAgt>
									</xsl:for-each>
									<xsl:for-each select="pfx2:InstdRmbrsmntAgtAcct">
										<InstdRmbrsmntAgtAcct>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(pfx2:IBAN)">
															<IBAN>
																<xsl:value-of select="pfx2:IBAN"/>
															</IBAN>
														</xsl:when>
														<xsl:otherwise>
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Othr/pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:if>
															</Othr>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:choose>
														<xsl:when test="exists(pfx2:Cd)">
															<Cd>
																<xsl:value-of select="pfx2:Cd"/>
															</Cd>
														</xsl:when>
														<xsl:otherwise>
															<Prtry>
																<xsl:value-of select="pfx2:Prtry"/>
															</Prtry>
														</xsl:otherwise>
													</xsl:choose>
												</Tp>
											</xsl:for-each>
											<Ccy>
												<xsl:value-of select="pfx2:Ccy"/>
											</Ccy>
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</InstdRmbrsmntAgtAcct>
									</xsl:for-each>
									<xsl:for-each select="pfx2:ThrdRmbrsmntAgt">
										<ThrdRmbrsmntAgt>
											<xsl:for-each select="pfx2:FinInstnId">
												<FinInstnId>
													<xsl:if test="current()/pfx2:BICFI">
														<BIC>
															<xsl:value-of select="current()/pfx2:BICFI"/>
														</BIC>
													</xsl:if>
													<xsl:for-each select="pfx2:ClrSysMmbId">
														<ClrSysMmbId>
															<xsl:for-each select="pfx2:ClrSysId">
																<ClrSysId>
																	<xsl:choose>
																		<xsl:when test="exists(pfx2:Cd)">
																			<Cd>
																				<xsl:value-of select="pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</ClrSysId>
															</xsl:for-each>
															<MmbId>
																<xsl:value-of select="pfx2:MmbId"/>
															</MmbId>
														</ClrSysMmbId>
													</xsl:for-each>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
													<xsl:for-each select="pfx2:Othr">
														<Othr>
															<Id>
																<xsl:value-of select="pfx2:Id"/>
															</Id>
															<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																<xsl:for-each select="pfx2:SchmeNm">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:for-each>
															</xsl:if>
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</Othr>
													</xsl:for-each>
												</FinInstnId>
											</xsl:for-each>
											<xsl:for-each select="pfx2:BrnchId">
												<BrnchId>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
												</BrnchId>
											</xsl:for-each>
										</ThrdRmbrsmntAgt>
									</xsl:for-each>
									<xsl:for-each select="pfx2:ThrdRmbrsmntAgtAcct">
										<ThrdRmbrsmntAgtAcct>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(pfx2:IBAN)">
															<IBAN>
																<xsl:value-of select="pfx2:IBAN"/>
															</IBAN>
														</xsl:when>
														<xsl:otherwise>
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Othr/pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:if>
																<Issr>
																	<xsl:value-of select="pfx2:Othr/pfx2:Issr"/>
																</Issr>
															</Othr>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:choose>
														<xsl:when test="exists(pfx2:Cd)">
															<Cd>
																<xsl:value-of select="pfx2:Cd"/>
															</Cd>
														</xsl:when>
														<xsl:otherwise>
															<Prtry>
																<xsl:value-of select="pfx2:Prtry"/>
															</Prtry>
														</xsl:otherwise>
													</xsl:choose>
												</Tp>
											</xsl:for-each>
											<Ccy>
												<xsl:value-of select="pfx2:Ccy"/>
											</Ccy>
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</ThrdRmbrsmntAgtAcct>
									</xsl:for-each>
								</SttlmInf>
							</xsl:for-each>
						</xsl:when>
						<xsl:when test="exists(/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:IntrBkInf/pfx2:SttlmTxInf/pfx2:SttlmInf) and /pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:IntrBkInf/pfx2:SttlmTxInf/pfx2:SttlmInf !=&quot;&quot;">
							<xsl:for-each select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:IntrBkInf/pfx2:SttlmTxInf/pfx2:SttlmInf">
								<SttlmInf>
									<SttlmMtd>
										<xsl:value-of select="pfx2:SttlmMtd"/>
									</SttlmMtd>
									<xsl:for-each select="pfx2:SttlmAcct">
										<SttlmAcct>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(pfx2:IBAN)">
															<IBAN>
																<xsl:value-of select="pfx2:IBAN"/>
															</IBAN>
														</xsl:when>
														<xsl:otherwise>
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Othr/pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<xsl:choose>
																		<xsl:when test="exists(pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)">
																			<SchmeNm>
																				<Cd>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Cd"/>
																				</Cd>
																			</SchmeNm>
																		</xsl:when>
																		<xsl:otherwise>
																			<SchmeNm>
																				<Prtry>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry"/>
																				</Prtry>
																			</SchmeNm>
																		</xsl:otherwise>
																	</xsl:choose>
																</xsl:if>
																<Issr>
																	<xsl:value-of select="pfx2:Othr/pfx2:Issr"/>
																</Issr>
															</Othr>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:choose>
														<xsl:when test="exists(pfx2:Cd)">
															<Cd>
																<xsl:value-of select="pfx2:Cd"/>
															</Cd>
														</xsl:when>
														<xsl:otherwise>
															<Prtry>
																<xsl:value-of select="pfx2:Prtry"/>
															</Prtry>
														</xsl:otherwise>
													</xsl:choose>
												</Tp>
											</xsl:for-each>
											<Ccy>
												<xsl:value-of select="pfx2:Ccy"/>
											</Ccy>
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</SttlmAcct>
									</xsl:for-each>
									<xsl:for-each select="pfx2:ClrSys">
										<ClrSys>
											<xsl:choose>
												<xsl:when test="exists(pfx2:Cd)">
													<Cd>
														<xsl:value-of select="pfx2:Cd"/>
													</Cd>
												</xsl:when>
												<xsl:otherwise>
													<Prtry>
														<xsl:value-of select="pfx2:Prtry"/>
													</Prtry>
												</xsl:otherwise>
											</xsl:choose>
										</ClrSys>
									</xsl:for-each>
									<xsl:for-each select="pfx2:InstgRmbrsmntAgt">
										<InstgRmbrsmntAgt>
											<xsl:for-each select="pfx2:FinInstnId">
												<FinInstnId>
													<xsl:if test="current()/pfx2:BICFI">
														<BIC>
															<xsl:value-of select="current()/pfx2:BICFI"/>
														</BIC>
													</xsl:if>
													<xsl:for-each select="pfx2:ClrSysMmbId">
														<ClrSysMmbId>
															<xsl:for-each select="pfx2:ClrSysId">
																<ClrSysId>
																	<xsl:choose>
																		<xsl:when test="exists(pfx2:Cd)">
																			<Cd>
																				<xsl:value-of select="pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</ClrSysId>
															</xsl:for-each>
															<MmbId>
																<xsl:value-of select="pfx2:MmbId"/>
															</MmbId>
														</ClrSysMmbId>
													</xsl:for-each>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
													<xsl:for-each select="pfx2:Othr">
														<Othr>
															<Id>
																<xsl:value-of select="pfx2:Id"/>
															</Id>
															<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																<xsl:for-each select="pfx2:SchmeNm">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:for-each>
															</xsl:if>
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</Othr>
													</xsl:for-each>
												</FinInstnId>
											</xsl:for-each>
											<xsl:for-each select="pfx2:BrnchId">
												<BrnchId>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
												</BrnchId>
											</xsl:for-each>
										</InstgRmbrsmntAgt>
									</xsl:for-each>
									<xsl:for-each select="pfx2:InstgRmbrsmntAgtAcct">
										<InstgRmbrsmntAgtAcct>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(pfx2:IBAN)">
															<IBAN>
																<xsl:value-of select="pfx2:IBAN"/>
															</IBAN>
														</xsl:when>
														<xsl:otherwise>
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Othr/pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:if>
																<Issr>
																	<xsl:value-of select="pfx2:Othr/pfx2:Issr"/>
																</Issr>
															</Othr>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:choose>
														<xsl:when test="exists(pfx2:Cd)">
															<Cd>
																<xsl:value-of select="pfx2:Cd"/>
															</Cd>
														</xsl:when>
														<xsl:otherwise>
															<Prtry>
																<xsl:value-of select="pfx2:Prtry"/>
															</Prtry>
														</xsl:otherwise>
													</xsl:choose>
												</Tp>
											</xsl:for-each>
											<Ccy>
												<xsl:value-of select="pfx2:Ccy"/>
											</Ccy>
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</InstgRmbrsmntAgtAcct>
									</xsl:for-each>
									<xsl:for-each select="pfx2:InstdRmbrsmntAgt">
										<InstdRmbrsmntAgt>
											<xsl:for-each select="pfx2:FinInstnId">
												<FinInstnId>
													<xsl:if test="current()/pfx2:BICFI">
														<BIC>
															<xsl:value-of select="current()/pfx2:BICFI"/>
														</BIC>
													</xsl:if>
													<xsl:for-each select="pfx2:ClrSysMmbId">
														<ClrSysMmbId>
															<xsl:for-each select="pfx2:ClrSysId">
																<ClrSysId>
																	<xsl:choose>
																		<xsl:when test="exists(pfx2:Cd)">
																			<Cd>
																				<xsl:value-of select="pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</ClrSysId>
															</xsl:for-each>
															<MmbId>
																<xsl:value-of select="pfx2:MmbId"/>
															</MmbId>
														</ClrSysMmbId>
													</xsl:for-each>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
													<xsl:for-each select="pfx2:Othr">
														<Othr>
															<Id>
																<xsl:value-of select="pfx2:Id"/>
															</Id>
															<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																<xsl:for-each select="pfx2:SchmeNm">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:for-each>
															</xsl:if>
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</Othr>
													</xsl:for-each>
												</FinInstnId>
											</xsl:for-each>
											<xsl:for-each select="pfx2:BrnchId">
												<BrnchId>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
												</BrnchId>
											</xsl:for-each>
										</InstdRmbrsmntAgt>
									</xsl:for-each>
									<xsl:for-each select="pfx2:InstdRmbrsmntAgtAcct">
										<InstdRmbrsmntAgtAcct>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(pfx2:IBAN)">
															<IBAN>
																<xsl:value-of select="pfx2:IBAN"/>
															</IBAN>
														</xsl:when>
														<xsl:otherwise>
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Othr/pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:if>
															</Othr>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:choose>
														<xsl:when test="exists(pfx2:Cd)">
															<Cd>
																<xsl:value-of select="pfx2:Cd"/>
															</Cd>
														</xsl:when>
														<xsl:otherwise>
															<Prtry>
																<xsl:value-of select="pfx2:Prtry"/>
															</Prtry>
														</xsl:otherwise>
													</xsl:choose>
												</Tp>
											</xsl:for-each>
											<Ccy>
												<xsl:value-of select="pfx2:Ccy"/>
											</Ccy>
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</InstdRmbrsmntAgtAcct>
									</xsl:for-each>
									<xsl:for-each select="pfx2:ThrdRmbrsmntAgt">
										<ThrdRmbrsmntAgt>
											<xsl:for-each select="pfx2:FinInstnId">
												<FinInstnId>
													<xsl:if test="current()/pfx2:BICFI">
														<BIC>
															<xsl:value-of select="current()/pfx2:BICFI"/>
														</BIC>
													</xsl:if>
													<xsl:for-each select="pfx2:ClrSysMmbId">
														<ClrSysMmbId>
															<xsl:for-each select="pfx2:ClrSysId">
																<ClrSysId>
																	<xsl:choose>
																		<xsl:when test="exists(pfx2:Cd)">
																			<Cd>
																				<xsl:value-of select="pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</ClrSysId>
															</xsl:for-each>
															<MmbId>
																<xsl:value-of select="pfx2:MmbId"/>
															</MmbId>
														</ClrSysMmbId>
													</xsl:for-each>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
													<xsl:for-each select="pfx2:Othr">
														<Othr>
															<Id>
																<xsl:value-of select="pfx2:Id"/>
															</Id>
															<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																<xsl:for-each select="pfx2:SchmeNm">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:for-each>
															</xsl:if>
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</Othr>
													</xsl:for-each>
												</FinInstnId>
											</xsl:for-each>
											<xsl:for-each select="pfx2:BrnchId">
												<BrnchId>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
												</BrnchId>
											</xsl:for-each>
										</ThrdRmbrsmntAgt>
									</xsl:for-each>
									<xsl:for-each select="pfx2:ThrdRmbrsmntAgtAcct">
										<ThrdRmbrsmntAgtAcct>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(pfx2:IBAN)">
															<IBAN>
																<xsl:value-of select="pfx2:IBAN"/>
															</IBAN>
														</xsl:when>
														<xsl:otherwise>
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Othr/pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:if>
																<Issr>
																	<xsl:value-of select="pfx2:Othr/pfx2:Issr"/>
																</Issr>
															</Othr>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:choose>
														<xsl:when test="exists(pfx2:Cd)">
															<Cd>
																<xsl:value-of select="pfx2:Cd"/>
															</Cd>
														</xsl:when>
														<xsl:otherwise>
															<Prtry>
																<xsl:value-of select="pfx2:Prtry"/>
															</Prtry>
														</xsl:otherwise>
													</xsl:choose>
												</Tp>
											</xsl:for-each>
											<Ccy>
												<xsl:value-of select="pfx2:Ccy"/>
											</Ccy>
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</ThrdRmbrsmntAgtAcct>
									</xsl:for-each>
								</SttlmInf>
							</xsl:for-each>
						</xsl:when>
						<xsl:when test="exists(/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf[1]/pfx2:IntrBkInf/pfx2:SttlmTxInf/pfx2:SttlmInf) and /pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf[1]/pfx2:IntrBkInf/pfx2:SttlmTxInf/pfx2:SttlmInf !=&quot;&quot;">
							<xsl:for-each select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf[1]/pfx2:IntrBkInf/pfx2:SttlmTxInf/pfx2:SttlmInf">
								<SttlmInf>
									<SttlmMtd>
										<xsl:value-of select="pfx2:SttlmMtd"/>
									</SttlmMtd>
									<xsl:for-each select="pfx2:SttlmAcct">
										<SttlmAcct>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(pfx2:IBAN)">
															<IBAN>
																<xsl:value-of select="pfx2:IBAN"/>
															</IBAN>
														</xsl:when>
														<xsl:otherwise>
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Othr/pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<xsl:choose>
																		<xsl:when test="exists(pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)">
																			<SchmeNm>
																				<Cd>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Cd"/>
																				</Cd>
																			</SchmeNm>
																		</xsl:when>
																		<xsl:otherwise>
																			<SchmeNm>
																				<Prtry>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry"/>
																				</Prtry>
																			</SchmeNm>
																		</xsl:otherwise>
																	</xsl:choose>
																</xsl:if>
																<Issr>
																	<xsl:value-of select="pfx2:Othr/pfx2:Issr"/>
																</Issr>
															</Othr>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:choose>
														<xsl:when test="exists(pfx2:Cd)">
															<Cd>
																<xsl:value-of select="pfx2:Cd"/>
															</Cd>
														</xsl:when>
														<xsl:otherwise>
															<Prtry>
																<xsl:value-of select="pfx2:Prtry"/>
															</Prtry>
														</xsl:otherwise>
													</xsl:choose>
												</Tp>
											</xsl:for-each>
											<Ccy>
												<xsl:value-of select="pfx2:Ccy"/>
											</Ccy>
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</SttlmAcct>
									</xsl:for-each>
									<xsl:for-each select="pfx2:ClrSys">
										<ClrSys>
											<xsl:choose>
												<xsl:when test="exists(pfx2:Cd)">
													<Cd>
														<xsl:value-of select="pfx2:Cd"/>
													</Cd>
												</xsl:when>
												<xsl:otherwise>
													<Prtry>
														<xsl:value-of select="pfx2:Prtry"/>
													</Prtry>
												</xsl:otherwise>
											</xsl:choose>
										</ClrSys>
									</xsl:for-each>
									<xsl:for-each select="pfx2:InstgRmbrsmntAgt">
										<InstgRmbrsmntAgt>
											<xsl:for-each select="pfx2:FinInstnId">
												<FinInstnId>
													<xsl:if test="current()/pfx2:BICFI">
														<BIC>
															<xsl:value-of select="current()/pfx2:BICFI"/>
														</BIC>
													</xsl:if>
													<xsl:for-each select="pfx2:ClrSysMmbId">
														<ClrSysMmbId>
															<xsl:for-each select="pfx2:ClrSysId">
																<ClrSysId>
																	<xsl:choose>
																		<xsl:when test="exists(pfx2:Cd)">
																			<Cd>
																				<xsl:value-of select="pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</ClrSysId>
															</xsl:for-each>
															<MmbId>
																<xsl:value-of select="pfx2:MmbId"/>
															</MmbId>
														</ClrSysMmbId>
													</xsl:for-each>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
													<xsl:for-each select="pfx2:Othr">
														<Othr>
															<Id>
																<xsl:value-of select="pfx2:Id"/>
															</Id>
															<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																<xsl:for-each select="pfx2:SchmeNm">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:for-each>
															</xsl:if>
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</Othr>
													</xsl:for-each>
												</FinInstnId>
											</xsl:for-each>
											<xsl:for-each select="pfx2:BrnchId">
												<BrnchId>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
												</BrnchId>
											</xsl:for-each>
										</InstgRmbrsmntAgt>
									</xsl:for-each>
									<xsl:for-each select="pfx2:InstgRmbrsmntAgtAcct">
										<InstgRmbrsmntAgtAcct>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(pfx2:IBAN)">
															<IBAN>
																<xsl:value-of select="pfx2:IBAN"/>
															</IBAN>
														</xsl:when>
														<xsl:otherwise>
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Othr/pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:if>
																<Issr>
																	<xsl:value-of select="pfx2:Othr/pfx2:Issr"/>
																</Issr>
															</Othr>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:choose>
														<xsl:when test="exists(pfx2:Cd)">
															<Cd>
																<xsl:value-of select="pfx2:Cd"/>
															</Cd>
														</xsl:when>
														<xsl:otherwise>
															<Prtry>
																<xsl:value-of select="pfx2:Prtry"/>
															</Prtry>
														</xsl:otherwise>
													</xsl:choose>
												</Tp>
											</xsl:for-each>
											<Ccy>
												<xsl:value-of select="pfx2:Ccy"/>
											</Ccy>
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</InstgRmbrsmntAgtAcct>
									</xsl:for-each>
									<xsl:for-each select="pfx2:InstdRmbrsmntAgt">
										<InstdRmbrsmntAgt>
											<xsl:for-each select="pfx2:FinInstnId">
												<FinInstnId>
													<xsl:if test="current()/pfx2:BICFI">
														<BIC>
															<xsl:value-of select="current()/pfx2:BICFI"/>
														</BIC>
													</xsl:if>
													<xsl:for-each select="pfx2:ClrSysMmbId">
														<ClrSysMmbId>
															<xsl:for-each select="pfx2:ClrSysId">
																<ClrSysId>
																	<xsl:choose>
																		<xsl:when test="exists(pfx2:Cd)">
																			<Cd>
																				<xsl:value-of select="pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</ClrSysId>
															</xsl:for-each>
															<MmbId>
																<xsl:value-of select="pfx2:MmbId"/>
															</MmbId>
														</ClrSysMmbId>
													</xsl:for-each>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
													<xsl:for-each select="pfx2:Othr">
														<Othr>
															<Id>
																<xsl:value-of select="pfx2:Id"/>
															</Id>
															<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																<xsl:for-each select="pfx2:SchmeNm">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:for-each>
															</xsl:if>
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</Othr>
													</xsl:for-each>
												</FinInstnId>
											</xsl:for-each>
											<xsl:for-each select="pfx2:BrnchId">
												<BrnchId>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
												</BrnchId>
											</xsl:for-each>
										</InstdRmbrsmntAgt>
									</xsl:for-each>
									<xsl:for-each select="pfx2:InstdRmbrsmntAgtAcct">
										<InstdRmbrsmntAgtAcct>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(pfx2:IBAN)">
															<IBAN>
																<xsl:value-of select="pfx2:IBAN"/>
															</IBAN>
														</xsl:when>
														<xsl:otherwise>
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Othr/pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:if>
															</Othr>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:choose>
														<xsl:when test="exists(pfx2:Cd)">
															<Cd>
																<xsl:value-of select="pfx2:Cd"/>
															</Cd>
														</xsl:when>
														<xsl:otherwise>
															<Prtry>
																<xsl:value-of select="pfx2:Prtry"/>
															</Prtry>
														</xsl:otherwise>
													</xsl:choose>
												</Tp>
											</xsl:for-each>
											<Ccy>
												<xsl:value-of select="pfx2:Ccy"/>
											</Ccy>
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</InstdRmbrsmntAgtAcct>
									</xsl:for-each>
									<xsl:for-each select="pfx2:ThrdRmbrsmntAgt">
										<ThrdRmbrsmntAgt>
											<xsl:for-each select="pfx2:FinInstnId">
												<FinInstnId>
													<xsl:if test="current()/pfx2:BICFI">
														<BIC>
															<xsl:value-of select="current()/pfx2:BICFI"/>
														</BIC>
													</xsl:if>
													<xsl:for-each select="pfx2:ClrSysMmbId">
														<ClrSysMmbId>
															<xsl:for-each select="pfx2:ClrSysId">
																<ClrSysId>
																	<xsl:choose>
																		<xsl:when test="exists(pfx2:Cd)">
																			<Cd>
																				<xsl:value-of select="pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</ClrSysId>
															</xsl:for-each>
															<MmbId>
																<xsl:value-of select="pfx2:MmbId"/>
															</MmbId>
														</ClrSysMmbId>
													</xsl:for-each>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
													<xsl:for-each select="pfx2:Othr">
														<Othr>
															<Id>
																<xsl:value-of select="pfx2:Id"/>
															</Id>
															<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																<xsl:for-each select="pfx2:SchmeNm">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:for-each>
															</xsl:if>
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</Othr>
													</xsl:for-each>
												</FinInstnId>
											</xsl:for-each>
											<xsl:for-each select="pfx2:BrnchId">
												<BrnchId>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
													<xsl:for-each select="pfx2:PstlAdr">
														<PstlAdr>
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
															<xsl:for-each select="pfx2:AdrLine">
																<AdrLine>
																	<xsl:value-of select="."/>
																</AdrLine>
															</xsl:for-each>
														</PstlAdr>
													</xsl:for-each>
												</BrnchId>
											</xsl:for-each>
										</ThrdRmbrsmntAgt>
									</xsl:for-each>
									<xsl:for-each select="pfx2:ThrdRmbrsmntAgtAcct">
										<ThrdRmbrsmntAgtAcct>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(pfx2:IBAN)">
															<IBAN>
																<xsl:value-of select="pfx2:IBAN"/>
															</IBAN>
														</xsl:when>
														<xsl:otherwise>
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Othr/pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<SchmeNm>
																		<xsl:choose>
																			<xsl:when test="exists(pfx2:Othr/pfx2:SchmeNm/pfx2:Cd)">
																				<Cd>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Cd"/>
																				</Cd>
																			</xsl:when>
																			<xsl:otherwise>
																				<Prtry>
																					<xsl:value-of select="pfx2:Othr/pfx2:SchmeNm/pfx2:Prtry"/>
																				</Prtry>
																			</xsl:otherwise>
																		</xsl:choose>
																	</SchmeNm>
																</xsl:if>
																<Issr>
																	<xsl:value-of select="pfx2:Othr/pfx2:Issr"/>
																</Issr>
															</Othr>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:choose>
														<xsl:when test="exists(pfx2:Cd)">
															<Cd>
																<xsl:value-of select="pfx2:Cd"/>
															</Cd>
														</xsl:when>
														<xsl:otherwise>
															<Prtry>
																<xsl:value-of select="pfx2:Prtry"/>
															</Prtry>
														</xsl:otherwise>
													</xsl:choose>
												</Tp>
											</xsl:for-each>
											<Ccy>
												<xsl:value-of select="pfx2:Ccy"/>
											</Ccy>
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</ThrdRmbrsmntAgtAcct>
									</xsl:for-each>
								</SttlmInf>
							</xsl:for-each>
						</xsl:when>
						<xsl:otherwise>
							<SttlmInf>
								<SttlmMtd>
									<xsl:value-of select="'CLRG'"/>
								</SttlmMtd>
							</SttlmInf>
						</xsl:otherwise>
					</xsl:choose>
					<xsl:for-each select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:InstrIdInf/pfx2:PmtTpInf">
						<PmtTpInf>
							<xsl:if test="pfx2:InstrPrty">
								<InstrPrty>
									<xsl:value-of select="pfx2:InstrPrty"/>
								</InstrPrty>
							</xsl:if>
							<xsl:if test="pfx2:ClrChanl">
								<ClrChanl>
									<xsl:value-of select="pfx2:ClrChanl"/>
								</ClrChanl>
							</xsl:if>
							<xsl:if test="string-length(current()/pfx2:SvcLvl[1]/pfx2:Cd)>0 or string-length(current()/pfx2:SvcLvl[1]/pfx2:Prtry)>0">
								<xsl:for-each select="pfx2:SvcLvl[1]">
									<SvcLvl>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:Cd)>0">
												<Cd>
													<xsl:value-of select="current()/pfx2:Cd"/>
												</Cd>
											</xsl:when>
											<xsl:otherwise>
												<Prtry>
													<xsl:value-of select="current()/pfx2:Prtry"/>
												</Prtry>
											</xsl:otherwise>
										</xsl:choose>
									</SvcLvl>
								</xsl:for-each>
							</xsl:if>
							<xsl:for-each select="pfx2:LclInstrm">
								<LclInstrm>
									<xsl:choose>
										<xsl:when test="string-length(current()/pfx2:Cd)>0">
											<Cd>
												<xsl:value-of select="current()/pfx2:Cd"/>
											</Cd>
										</xsl:when>
										<xsl:otherwise>
											<Prtry>
												<xsl:value-of select="current()/pfx2:Prtry"/>
											</Prtry>
										</xsl:otherwise>
									</xsl:choose>
								</LclInstrm>
							</xsl:for-each>
							<xsl:for-each select="pfx2:CtgyPurp">
								<CtgyPurp>
									<xsl:choose>
										<xsl:when test="string-length(current()/pfx2:Cd)>0">
											<Cd>
												<xsl:value-of select="current()/pfx2:Cd"/>
											</Cd>
										</xsl:when>
										<xsl:otherwise>
											<Prtry>
												<xsl:value-of select="current()/pfx2:Prtry"/>
											</Prtry>
										</xsl:otherwise>
									</xsl:choose>
								</CtgyPurp>
							</xsl:for-each>
						</PmtTpInf>
					</xsl:for-each>
					<xsl:choose>
						<xsl:when test="/pfx2:Document/pfx2:ITLHdr/pfx2:ITLFlow/pfx2:ITLFlowCd='ICHSIC' and /pfx2:Document/pfx2:ITLHdr/pfx2:PrtnTo='DOME'">
							<xsl:for-each select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf[1]/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INSTGAGT'][1]/pfx2:Agt">
								<InstgAgt>
									<xsl:for-each select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INSTGAGT'][1]/pfx2:Agt/pfx2:FinInstnId">
										<FinInstnId>
											<xsl:if test="current()/pfx2:BICFI">
												<BIC>
													<xsl:value-of select="current()/pfx2:BICFI"/>
												</BIC>
											</xsl:if>
											<xsl:for-each select="pfx2:ClrSysMmbId">
												<ClrSysMmbId>
													<xsl:if test="string-length(current()/pfx2:ClrSysId/pfx2:Cd)>0 or string-length(current()/pfx2:ClrSysId/pfx2:Prtry)>0">
														<xsl:for-each select="pfx2:ClrSysId">
															<ClrSysId>
																<xsl:choose>
																	<xsl:when test="string-length(current()/pfx2:Cd)>0">
																		<Cd>
																			<xsl:value-of select="current()/pfx2:Cd"/>
																		</Cd>
																	</xsl:when>
																	<xsl:otherwise>
																		<Prtry>
																			<xsl:value-of select="current()/pfx2:Prtry"/>
																		</Prtry>
																	</xsl:otherwise>
																</xsl:choose>
															</ClrSysId>
														</xsl:for-each>
													</xsl:if>
													<MmbId>
														<xsl:value-of select="pfx2:MmbId"/>
													</MmbId>
												</ClrSysMmbId>
											</xsl:for-each>
											<xsl:if test="pfx2:Nm">
												<Nm>
													<xsl:value-of select="pfx2:Nm"/>
												</Nm>
											</xsl:if>
											<xsl:for-each select="pfx2:PstlAdr">
												<PstlAdr>
													<xsl:if test="pfx2:Dept">
														<Dept>
															<xsl:value-of select="pfx2:Dept"/>
														</Dept>
													</xsl:if>
													<xsl:if test="pfx2:SubDept">
														<SubDept>
															<xsl:value-of select="pfx2:SubDept"/>
														</SubDept>
													</xsl:if>
													<xsl:if test="pfx2:StrtNm">
														<StrtNm>
															<xsl:value-of select="pfx2:StrtNm"/>
														</StrtNm>
													</xsl:if>
													<xsl:if test="pfx2:BldgNb">
														<BldgNb>
															<xsl:value-of select="pfx2:BldgNb"/>
														</BldgNb>
													</xsl:if>
													<xsl:if test="pfx2:PstCd">
														<PstCd>
															<xsl:value-of select="pfx2:PstCd"/>
														</PstCd>
													</xsl:if>
													<xsl:if test="pfx2:TwnNm">
														<TwnNm>
															<xsl:value-of select="pfx2:TwnNm"/>
														</TwnNm>
													</xsl:if>
													<xsl:if test="pfx2:CtrySubDvsn">
														<CtrySubDvsn>
															<xsl:value-of select="pfx2:CtrySubDvsn"/>
														</CtrySubDvsn>
													</xsl:if>
													<xsl:if test="pfx2:Ctry">
														<Ctry>
															<xsl:value-of select="pfx2:Ctry"/>
														</Ctry>
													</xsl:if>
													<xsl:for-each select="pfx2:AdrLine">
														<AdrLine>
															<xsl:value-of select="."/>
														</AdrLine>
													</xsl:for-each>
												</PstlAdr>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Othr">
												<Othr>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
														<xsl:for-each select="pfx2:SchmeNm">
															<SchmeNm>
																<xsl:choose>
																	<xsl:when test="string-length(current()/pfx2:Cd)>0">
																		<Cd>
																			<xsl:value-of select="current()/pfx2:Cd"/>
																		</Cd>
																	</xsl:when>
																	<xsl:otherwise>
																		<Prtry>
																			<xsl:value-of select="current()/pfx2:Prtry"/>
																		</Prtry>
																	</xsl:otherwise>
																</xsl:choose>
															</SchmeNm>
														</xsl:for-each>
													</xsl:if>
													<xsl:if test="pfx2:Issr">
														<Issr>
															<xsl:value-of select="pfx2:Issr"/>
														</Issr>
													</xsl:if>
												</Othr>
											</xsl:for-each>
										</FinInstnId>
									</xsl:for-each>
									<xsl:for-each select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INSTGAGT'][1]/pfx2:Agt/pfx2:BrnchId">
										<BrnchId>
											<xsl:if test="pfx2:Id">
												<Id>
													<xsl:value-of select="pfx2:Id"/>
												</Id>
											</xsl:if>
											<xsl:if test="pfx2:Nm">
												<Nm>
													<xsl:value-of select="pfx2:Nm"/>
												</Nm>
											</xsl:if>
											<xsl:for-each select="pfx2:PstlAdr">
												<PstlAdr>
													<xsl:if test="pfx2:Dept">
														<Dept>
															<xsl:value-of select="pfx2:Dept"/>
														</Dept>
													</xsl:if>
													<xsl:if test="pfx2:SubDept">
														<SubDept>
															<xsl:value-of select="pfx2:SubDept"/>
														</SubDept>
													</xsl:if>
													<xsl:if test="pfx2:StrtNm">
														<StrtNm>
															<xsl:value-of select="pfx2:StrtNm"/>
														</StrtNm>
													</xsl:if>
													<xsl:if test="pfx2:BldgNb">
														<BldgNb>
															<xsl:value-of select="pfx2:BldgNb"/>
														</BldgNb>
													</xsl:if>
													<xsl:if test="pfx2:PstCd">
														<PstCd>
															<xsl:value-of select="pfx2:PstCd"/>
														</PstCd>
													</xsl:if>
													<xsl:if test="pfx2:TwnNm">
														<TwnNm>
															<xsl:value-of select="pfx2:TwnNm"/>
														</TwnNm>
													</xsl:if>
													<xsl:if test="pfx2:CtrySubDvsn">
														<CtrySubDvsn>
															<xsl:value-of select="pfx2:CtrySubDvsn"/>
														</CtrySubDvsn>
													</xsl:if>
													<xsl:if test="pfx2:Ctry">
														<Ctry>
															<xsl:value-of select="pfx2:Ctry"/>
														</Ctry>
													</xsl:if>
													<xsl:for-each select="pfx2:AdrLine">
														<AdrLine>
															<xsl:value-of select="."/>
														</AdrLine>
													</xsl:for-each>
												</PstlAdr>
											</xsl:for-each>
										</BrnchId>
									</xsl:for-each>
								</InstgAgt>
							</xsl:for-each>
						</xsl:when>
						<xsl:otherwise>
							<xsl:for-each select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:ActInf[pfx2:ActTp='INSTGAGT'][1]/pfx2:Agt">
								<InstgAgt>
									<xsl:for-each select="pfx2:FinInstnId">
										<FinInstnId>
											<xsl:if test="current()/pfx2:BICFI">
												<BIC>
													<xsl:value-of select="current()/pfx2:BICFI"/>
												</BIC>
											</xsl:if>
											<xsl:for-each select="pfx2:ClrSysMmbId">
												<ClrSysMmbId>
													<xsl:if test="string-length(current()/pfx2:ClrSysId/pfx2:Cd)>0 or string-length(current()/pfx2:ClrSysId/pfx2:Prtry)>0">
														<xsl:for-each select="pfx2:ClrSysId">
															<ClrSysId>
																<xsl:choose>
																	<xsl:when test="string-length(current()/pfx2:Cd)>0">
																		<Cd>
																			<xsl:value-of select="current()/pfx2:Cd"/>
																		</Cd>
																	</xsl:when>
																	<xsl:otherwise>
																		<Prtry>
																			<xsl:value-of select="current()/pfx2:Prtry"/>
																		</Prtry>
																	</xsl:otherwise>
																</xsl:choose>
															</ClrSysId>
														</xsl:for-each>
													</xsl:if>
													<MmbId>
														<xsl:value-of select="pfx2:MmbId"/>
													</MmbId>
												</ClrSysMmbId>
											</xsl:for-each>
											<xsl:if test="pfx2:Nm">
												<Nm>
													<xsl:value-of select="pfx2:Nm"/>
												</Nm>
											</xsl:if>
											<xsl:for-each select="pfx2:PstlAdr">
												<PstlAdr>
													<xsl:if test="pfx2:Dept">
														<Dept>
															<xsl:value-of select="pfx2:Dept"/>
														</Dept>
													</xsl:if>
													<xsl:if test="pfx2:SubDept">
														<SubDept>
															<xsl:value-of select="pfx2:SubDept"/>
														</SubDept>
													</xsl:if>
													<xsl:if test="pfx2:StrtNm">
														<StrtNm>
															<xsl:value-of select="pfx2:StrtNm"/>
														</StrtNm>
													</xsl:if>
													<xsl:if test="pfx2:BldgNb">
														<BldgNb>
															<xsl:value-of select="pfx2:BldgNb"/>
														</BldgNb>
													</xsl:if>
													<xsl:if test="pfx2:PstCd">
														<PstCd>
															<xsl:value-of select="pfx2:PstCd"/>
														</PstCd>
													</xsl:if>
													<xsl:if test="pfx2:TwnNm">
														<TwnNm>
															<xsl:value-of select="pfx2:TwnNm"/>
														</TwnNm>
													</xsl:if>
													<xsl:if test="pfx2:CtrySubDvsn">
														<CtrySubDvsn>
															<xsl:value-of select="pfx2:CtrySubDvsn"/>
														</CtrySubDvsn>
													</xsl:if>
													<xsl:if test="pfx2:Ctry">
														<Ctry>
															<xsl:value-of select="pfx2:Ctry"/>
														</Ctry>
													</xsl:if>
													<xsl:for-each select="pfx2:AdrLine">
														<AdrLine>
															<xsl:value-of select="."/>
														</AdrLine>
													</xsl:for-each>
												</PstlAdr>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Othr">
												<Othr>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
														<xsl:for-each select="pfx2:SchmeNm">
															<SchmeNm>
																<xsl:choose>
																	<xsl:when test="string-length(current()/pfx2:Cd)>0">
																		<Cd>
																			<xsl:value-of select="current()/pfx2:Cd"/>
																		</Cd>
																	</xsl:when>
																	<xsl:otherwise>
																		<Prtry>
																			<xsl:value-of select="current()/pfx2:Prtry"/>
																		</Prtry>
																	</xsl:otherwise>
																</xsl:choose>
															</SchmeNm>
														</xsl:for-each>
													</xsl:if>
													<xsl:if test="pfx2:Issr">
														<Issr>
															<xsl:value-of select="pfx2:Issr"/>
														</Issr>
													</xsl:if>
												</Othr>
											</xsl:for-each>
										</FinInstnId>
									</xsl:for-each>
									<xsl:for-each select="pfx2:BrnchId">
										<BrnchId>
											<xsl:if test="pfx2:Id">
												<Id>
													<xsl:value-of select="pfx2:Id"/>
												</Id>
											</xsl:if>
											<xsl:if test="pfx2:Nm">
												<Nm>
													<xsl:value-of select="pfx2:Nm"/>
												</Nm>
											</xsl:if>
											<xsl:for-each select="pfx2:PstlAdr">
												<PstlAdr>
													<xsl:if test="pfx2:Dept">
														<Dept>
															<xsl:value-of select="pfx2:Dept"/>
														</Dept>
													</xsl:if>
													<xsl:if test="pfx2:SubDept">
														<SubDept>
															<xsl:value-of select="pfx2:SubDept"/>
														</SubDept>
													</xsl:if>
													<xsl:if test="pfx2:StrtNm">
														<StrtNm>
															<xsl:value-of select="pfx2:StrtNm"/>
														</StrtNm>
													</xsl:if>
													<xsl:if test="pfx2:BldgNb">
														<BldgNb>
															<xsl:value-of select="pfx2:BldgNb"/>
														</BldgNb>
													</xsl:if>
													<xsl:if test="pfx2:PstCd">
														<PstCd>
															<xsl:value-of select="pfx2:PstCd"/>
														</PstCd>
													</xsl:if>
													<xsl:if test="pfx2:TwnNm">
														<TwnNm>
															<xsl:value-of select="pfx2:TwnNm"/>
														</TwnNm>
													</xsl:if>
													<xsl:if test="pfx2:CtrySubDvsn">
														<CtrySubDvsn>
															<xsl:value-of select="pfx2:CtrySubDvsn"/>
														</CtrySubDvsn>
													</xsl:if>
													<xsl:if test="pfx2:Ctry">
														<Ctry>
															<xsl:value-of select="pfx2:Ctry"/>
														</Ctry>
													</xsl:if>
													<xsl:for-each select="pfx2:AdrLine">
														<AdrLine>
															<xsl:value-of select="."/>
														</AdrLine>
													</xsl:for-each>
												</PstlAdr>
											</xsl:for-each>
										</BrnchId>
									</xsl:for-each>
								</InstgAgt>
							</xsl:for-each>
						</xsl:otherwise>
					</xsl:choose>
					<xsl:choose>
						<xsl:when test="/pfx2:Document/pfx2:ITLHdr/pfx2:ITLFlow/pfx2:ITLFlowCd='ICHSIC' and /pfx2:Document/pfx2:ITLHdr/pfx2:PrtnTo='DOME'">
							<xsl:for-each select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INSTDAGT'][1]/pfx2:Agt">
								<InstdAgt>
									<xsl:for-each select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INSTDAGT'][1]/pfx2:Agt/pfx2:FinInstnId">
										<FinInstnId>
											<xsl:if test="current()/pfx2:BICFI">
												<BIC>
													<xsl:value-of select="current()/pfx2:BICFI"/>
												</BIC>
											</xsl:if>
											<xsl:for-each select="pfx2:ClrSysMmbId">
												<ClrSysMmbId>
													<xsl:if test="string-length(current()/pfx2:ClrSysId/pfx2:Cd)>0 or string-length(current()/pfx2:ClrSysId/pfx2:Prtry)>0">
														<xsl:for-each select="pfx2:ClrSysId">
															<ClrSysId>
																<xsl:choose>
																	<xsl:when test="string-length(current()/pfx2:Cd)>0">
																		<Cd>
																			<xsl:value-of select="current()/pfx2:Cd"/>
																		</Cd>
																	</xsl:when>
																	<xsl:otherwise>
																		<Prtry>
																			<xsl:value-of select="current()/pfx2:Prtry"/>
																		</Prtry>
																	</xsl:otherwise>
																</xsl:choose>
															</ClrSysId>
														</xsl:for-each>
													</xsl:if>
													<MmbId>
														<xsl:value-of select="pfx2:MmbId"/>
													</MmbId>
												</ClrSysMmbId>
											</xsl:for-each>
											<xsl:if test="pfx2:Nm">
												<Nm>
													<xsl:value-of select="pfx2:Nm"/>
												</Nm>
											</xsl:if>
											<xsl:for-each select="pfx2:PstlAdr">
												<PstlAdr>
													<xsl:if test="pfx2:Dept">
														<Dept>
															<xsl:value-of select="pfx2:Dept"/>
														</Dept>
													</xsl:if>
													<xsl:if test="pfx2:SubDept">
														<SubDept>
															<xsl:value-of select="pfx2:SubDept"/>
														</SubDept>
													</xsl:if>
													<xsl:if test="pfx2:StrtNm">
														<StrtNm>
															<xsl:value-of select="pfx2:StrtNm"/>
														</StrtNm>
													</xsl:if>
													<xsl:if test="pfx2:BldgNb">
														<BldgNb>
															<xsl:value-of select="pfx2:BldgNb"/>
														</BldgNb>
													</xsl:if>
													<xsl:if test="pfx2:PstCd">
														<PstCd>
															<xsl:value-of select="pfx2:PstCd"/>
														</PstCd>
													</xsl:if>
													<xsl:if test="pfx2:TwnNm">
														<TwnNm>
															<xsl:value-of select="pfx2:TwnNm"/>
														</TwnNm>
													</xsl:if>
													<xsl:if test="pfx2:CtrySubDvsn">
														<CtrySubDvsn>
															<xsl:value-of select="pfx2:CtrySubDvsn"/>
														</CtrySubDvsn>
													</xsl:if>
													<xsl:if test="pfx2:Ctry">
														<Ctry>
															<xsl:value-of select="pfx2:Ctry"/>
														</Ctry>
													</xsl:if>
													<xsl:for-each select="pfx2:AdrLine">
														<AdrLine>
															<xsl:value-of select="."/>
														</AdrLine>
													</xsl:for-each>
												</PstlAdr>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Othr">
												<Othr>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
														<xsl:for-each select="pfx2:SchmeNm">
															<SchmeNm>
																<xsl:choose>
																	<xsl:when test="string-length(current()/pfx2:Cd)>0">
																		<Cd>
																			<xsl:value-of select="current()/pfx2:Cd"/>
																		</Cd>
																	</xsl:when>
																	<xsl:otherwise>
																		<Prtry>
																			<xsl:value-of select="current()/pfx2:Prtry"/>
																		</Prtry>
																	</xsl:otherwise>
																</xsl:choose>
															</SchmeNm>
														</xsl:for-each>
													</xsl:if>
													<xsl:if test="pfx2:Issr">
														<Issr>
															<xsl:value-of select="pfx2:Issr"/>
														</Issr>
													</xsl:if>
												</Othr>
											</xsl:for-each>
										</FinInstnId>
									</xsl:for-each>
									<xsl:for-each select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INSTDAGT'][1]/pfx2:Agt/pfx2:BrnchId">
										<BrnchId>
											<xsl:if test="pfx2:Id">
												<Id>
													<xsl:value-of select="pfx2:Id"/>
												</Id>
											</xsl:if>
											<xsl:if test="pfx2:Nm">
												<Nm>
													<xsl:value-of select="pfx2:Nm"/>
												</Nm>
											</xsl:if>
											<xsl:for-each select="pfx2:PstlAdr">
												<PstlAdr>
													<xsl:if test="pfx2:Dept">
														<Dept>
															<xsl:value-of select="pfx2:Dept"/>
														</Dept>
													</xsl:if>
													<xsl:if test="pfx2:SubDept">
														<SubDept>
															<xsl:value-of select="pfx2:SubDept"/>
														</SubDept>
													</xsl:if>
													<xsl:if test="pfx2:StrtNm">
														<StrtNm>
															<xsl:value-of select="pfx2:StrtNm"/>
														</StrtNm>
													</xsl:if>
													<xsl:if test="pfx2:BldgNb">
														<BldgNb>
															<xsl:value-of select="pfx2:BldgNb"/>
														</BldgNb>
													</xsl:if>
													<xsl:if test="pfx2:PstCd">
														<PstCd>
															<xsl:value-of select="pfx2:PstCd"/>
														</PstCd>
													</xsl:if>
													<xsl:if test="pfx2:TwnNm">
														<TwnNm>
															<xsl:value-of select="pfx2:TwnNm"/>
														</TwnNm>
													</xsl:if>
													<xsl:if test="pfx2:CtrySubDvsn">
														<CtrySubDvsn>
															<xsl:value-of select="pfx2:CtrySubDvsn"/>
														</CtrySubDvsn>
													</xsl:if>
													<xsl:if test="pfx2:Ctry">
														<Ctry>
															<xsl:value-of select="pfx2:Ctry"/>
														</Ctry>
													</xsl:if>
													<xsl:for-each select="pfx2:AdrLine">
														<AdrLine>
															<xsl:value-of select="."/>
														</AdrLine>
													</xsl:for-each>
												</PstlAdr>
											</xsl:for-each>
										</BrnchId>
									</xsl:for-each>
								</InstdAgt>
							</xsl:for-each>
						</xsl:when>
						<xsl:otherwise>
							<xsl:for-each select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:ActInf[pfx2:ActTp='INSTDAGT'][1]/pfx2:Agt">
								<InstdAgt>
									<xsl:for-each select="pfx2:FinInstnId">
										<FinInstnId>
											<xsl:if test="current()/pfx2:BICFI">
												<BIC>
													<xsl:value-of select="current()/pfx2:BICFI"/>
												</BIC>
											</xsl:if>
											<xsl:for-each select="pfx2:ClrSysMmbId">
												<ClrSysMmbId>
													<xsl:if test="string-length(current()/pfx2:ClrSysId/pfx2:Cd)>0 or string-length(current()/pfx2:ClrSysId/pfx2:Prtry)>0">
														<xsl:for-each select="pfx2:ClrSysId">
															<ClrSysId>
																<xsl:choose>
																	<xsl:when test="string-length(current()/pfx2:Cd)>0">
																		<Cd>
																			<xsl:value-of select="current()/pfx2:Cd"/>
																		</Cd>
																	</xsl:when>
																	<xsl:otherwise>
																		<Prtry>
																			<xsl:value-of select="current()/pfx2:Prtry"/>
																		</Prtry>
																	</xsl:otherwise>
																</xsl:choose>
															</ClrSysId>
														</xsl:for-each>
													</xsl:if>
													<MmbId>
														<xsl:value-of select="pfx2:MmbId"/>
													</MmbId>
												</ClrSysMmbId>
											</xsl:for-each>
											<xsl:if test="pfx2:Nm">
												<Nm>
													<xsl:value-of select="pfx2:Nm"/>
												</Nm>
											</xsl:if>
											<xsl:for-each select="pfx2:PstlAdr">
												<PstlAdr>
													<xsl:if test="pfx2:Dept">
														<Dept>
															<xsl:value-of select="pfx2:Dept"/>
														</Dept>
													</xsl:if>
													<xsl:if test="pfx2:SubDept">
														<SubDept>
															<xsl:value-of select="pfx2:SubDept"/>
														</SubDept>
													</xsl:if>
													<xsl:if test="pfx2:StrtNm">
														<StrtNm>
															<xsl:value-of select="pfx2:StrtNm"/>
														</StrtNm>
													</xsl:if>
													<xsl:if test="pfx2:BldgNb">
														<BldgNb>
															<xsl:value-of select="pfx2:BldgNb"/>
														</BldgNb>
													</xsl:if>
													<xsl:if test="pfx2:PstCd">
														<PstCd>
															<xsl:value-of select="pfx2:PstCd"/>
														</PstCd>
													</xsl:if>
													<xsl:if test="pfx2:TwnNm">
														<TwnNm>
															<xsl:value-of select="pfx2:TwnNm"/>
														</TwnNm>
													</xsl:if>
													<xsl:if test="pfx2:CtrySubDvsn">
														<CtrySubDvsn>
															<xsl:value-of select="pfx2:CtrySubDvsn"/>
														</CtrySubDvsn>
													</xsl:if>
													<xsl:if test="pfx2:Ctry">
														<Ctry>
															<xsl:value-of select="pfx2:Ctry"/>
														</Ctry>
													</xsl:if>
													<xsl:for-each select="pfx2:AdrLine">
														<AdrLine>
															<xsl:value-of select="."/>
														</AdrLine>
													</xsl:for-each>
												</PstlAdr>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Othr">
												<Othr>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
														<xsl:for-each select="pfx2:SchmeNm">
															<SchmeNm>
																<xsl:choose>
																	<xsl:when test="string-length(current()/pfx2:Cd)>0">
																		<Cd>
																			<xsl:value-of select="current()/pfx2:Cd"/>
																		</Cd>
																	</xsl:when>
																	<xsl:otherwise>
																		<Prtry>
																			<xsl:value-of select="current()/pfx2:Prtry"/>
																		</Prtry>
																	</xsl:otherwise>
																</xsl:choose>
															</SchmeNm>
														</xsl:for-each>
													</xsl:if>
													<xsl:if test="pfx2:Issr">
														<Issr>
															<xsl:value-of select="pfx2:Issr"/>
														</Issr>
													</xsl:if>
												</Othr>
											</xsl:for-each>
										</FinInstnId>
									</xsl:for-each>
									<xsl:for-each select="pfx2:BrnchId">
										<BrnchId>
											<xsl:if test="pfx2:Id">
												<Id>
													<xsl:value-of select="pfx2:Id"/>
												</Id>
											</xsl:if>
											<xsl:if test="pfx2:Nm">
												<Nm>
													<xsl:value-of select="pfx2:Nm"/>
												</Nm>
											</xsl:if>
											<xsl:for-each select="pfx2:PstlAdr">
												<PstlAdr>
													<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
														<AdrTp>
															<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
														</AdrTp>
													</xsl:if>
													<xsl:if test="pfx2:Dept">
														<Dept>
															<xsl:value-of select="pfx2:Dept"/>
														</Dept>
													</xsl:if>
													<xsl:if test="pfx2:SubDept">
														<SubDept>
															<xsl:value-of select="pfx2:SubDept"/>
														</SubDept>
													</xsl:if>
													<xsl:if test="pfx2:StrtNm">
														<StrtNm>
															<xsl:value-of select="pfx2:StrtNm"/>
														</StrtNm>
													</xsl:if>
													<xsl:if test="pfx2:BldgNb">
														<BldgNb>
															<xsl:value-of select="pfx2:BldgNb"/>
														</BldgNb>
													</xsl:if>
													<xsl:if test="pfx2:PstCd">
														<PstCd>
															<xsl:value-of select="pfx2:PstCd"/>
														</PstCd>
													</xsl:if>
													<xsl:if test="pfx2:TwnNm">
														<TwnNm>
															<xsl:value-of select="pfx2:TwnNm"/>
														</TwnNm>
													</xsl:if>
													<xsl:if test="pfx2:CtrySubDvsn">
														<CtrySubDvsn>
															<xsl:value-of select="pfx2:CtrySubDvsn"/>
														</CtrySubDvsn>
													</xsl:if>
													<xsl:if test="pfx2:Ctry">
														<Ctry>
															<xsl:value-of select="pfx2:Ctry"/>
														</Ctry>
													</xsl:if>
													<xsl:for-each select="pfx2:AdrLine">
														<AdrLine>
															<xsl:value-of select="."/>
														</AdrLine>
													</xsl:for-each>
												</PstlAdr>
											</xsl:for-each>
										</BrnchId>
									</xsl:for-each>
								</InstdAgt>
							</xsl:for-each>
						</xsl:otherwise>
					</xsl:choose>
				</GrpHdr>
				<xsl:for-each select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:TxInf">
					<CdtTrfTxInf>
						<xsl:for-each select="./pfx2:TxIdInf/pfx2:PmtId">
							<PmtId>
								<xsl:choose>
									<xsl:when test="$FlowCode='ICHSIC' and /pfx2:Document/pfx2:ITLHdr/pfx2:PrtnTo='DOME'">
										<xsl:choose>
											<xsl:when test="./pfx2:TxIdInf/pfx2:PmtTpInf/pfx2:SvcLvl/pfx2:Cd = 'G001'">
												<InstrId>
													<xsl:value-of select="concat(&quot;G01&quot;,substring(replace (./pfx2:UETR,'-', ''), 1,32))"/>
												</InstrId>
											</xsl:when>
											<xsl:when test="./pfx2:TxIdInf/pfx2:PmtTpInf/pfx2:SvcLvl/pfx2:Cd = 'G004'">
												<InstrId>
													<xsl:value-of select="concat(&quot;G04&quot;,substring(replace(./pfx2:UETR,'-', ''),1, 32))"/>
												</InstrId>
											</xsl:when>
											<xsl:otherwise>
												<InstrId>
													<xsl:value-of select="concat(&quot;UET&quot;,substring(replace(./pfx2:UETR,'-', ''),1, 32))"/>
												</InstrId>
											</xsl:otherwise>
										</xsl:choose>
									</xsl:when>
									<xsl:otherwise>
										<InstrId>
											<xsl:value-of select="./pfx2:TxIdInf/pfx2:PmtId/pfx2:InstrId"/>
										</InstrId>
									</xsl:otherwise>
								</xsl:choose>
								<EndToEndId>
									<xsl:value-of select="pfx2:EndToEndId"/>
								</EndToEndId>
								<TxId>
									<xsl:value-of select="pfx2:TxId"/>
								</TxId>
								<xsl:if test="pfx2:ClrSysRef">
									<ClrSysRef>
										<xsl:value-of select="pfx2:ClrSysRef"/>
									</ClrSysRef>
								</xsl:if>
							</PmtId>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:TxIdInf/pfx2:PmtTpInf">
							<PmtTpInf>
								<xsl:if test="pfx2:InstrPrty">
									<InstrPrty>
										<xsl:value-of select="pfx2:InstrPrty"/>
									</InstrPrty>
								</xsl:if>
								<xsl:if test="pfx2:ClrChanl">
									<ClrChanl>
										<xsl:value-of select="pfx2:ClrChanl"/>
									</ClrChanl>
								</xsl:if>
								<xsl:if test="string-length(current()/pfx2:SvcLvl[1]/pfx2:Cd)>0 or string-length(current()/pfx2:SvcLvl[1]/pfx2:Prtry)>0">
									<xsl:for-each select="pfx2:SvcLvl[1]">
										<SvcLvl>
											<xsl:choose>
												<xsl:when test="string-length(current()/pfx2:Cd)>0">
													<Cd>
														<xsl:value-of select="current()/pfx2:Cd"/>
													</Cd>
												</xsl:when>
												<xsl:otherwise>
													<Prtry>
														<xsl:value-of select="current()/pfx2:Prtry"/>
													</Prtry>
												</xsl:otherwise>
											</xsl:choose>
										</SvcLvl>
									</xsl:for-each>
								</xsl:if>
								<xsl:for-each select="pfx2:LclInstrm">
									<LclInstrm>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:Cd)>0">
												<Cd>
													<xsl:value-of select="current()/pfx2:Cd"/>
												</Cd>
											</xsl:when>
											<xsl:otherwise>
												<Prtry>
													<xsl:value-of select="current()/pfx2:Prtry"/>
												</Prtry>
											</xsl:otherwise>
										</xsl:choose>
									</LclInstrm>
								</xsl:for-each>
								<xsl:for-each select="pfx2:CtgyPurp">
									<CtgyPurp>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:Cd)>0">
												<Cd>
													<xsl:value-of select="current()/pfx2:Cd"/>
												</Cd>
											</xsl:when>
											<xsl:otherwise>
												<Prtry>
													<xsl:value-of select="current()/pfx2:Prtry"/>
												</Prtry>
											</xsl:otherwise>
										</xsl:choose>
									</CtgyPurp>
								</xsl:for-each>
							</PmtTpInf>
						</xsl:for-each>
						<IntrBkSttlmAmt>
							<xsl:attribute name="Ccy">
								<xsl:value-of select="current()/pfx2:IntrBkInf/pfx2:AmtInf/pfx2:IntrBkSttlmAmt/@Ccy"/>
							</xsl:attribute>
							<xsl:value-of select="current()/pfx2:IntrBkInf/pfx2:AmtInf/pfx2:IntrBkSttlmAmt"/>
						</IntrBkSttlmAmt>
						<xsl:choose>
							<xsl:when test="$FlowCode='ICHSIC'  and  ../../pfx2:ITLHdr/pfx2:PrtnTo = &quot;DOME&quot;">
								<xsl:if test="current()/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:IntrBkSttlmDt">
									<IntrBkSttlmDt>
										<xsl:value-of select="current()/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:IntrBkSttlmDt"/>
									</IntrBkSttlmDt>
								</xsl:if>
							</xsl:when>
							<xsl:otherwise>
								<xsl:if test="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:IntrBkSttlmDt">
									<IntrBkSttlmDt>
										<xsl:value-of select="/pfx2:Document/pfx2:PmtPvt[1]/pfx2:InstrInf/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:IntrBkSttlmDt"/>
									</IntrBkSttlmDt>
								</xsl:if>
							</xsl:otherwise>
						</xsl:choose>
						<xsl:if test="current()/pfx2:IntrBkInf/pfx2:SttlmTxInf/pfx2:SttlmPrty">
							<SttlmPrty>
								<xsl:value-of select="current()/pfx2:IntrBkInf/pfx2:SttlmTxInf/pfx2:SttlmPrty"/>
							</SttlmPrty>
						</xsl:if>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:SttlmTmIndctn">
							<SttlmTmIndctn>
								<xsl:if test="pfx2:DbtDtTm">
									<DbtDtTm>
										<xsl:value-of select="pfx2:DbtDtTm"/>
									</DbtDtTm>
								</xsl:if>
								<xsl:if test="pfx2:CdtDtTm">
									<CdtDtTm>
										<xsl:value-of select="pfx2:CdtDtTm"/>
									</CdtDtTm>
								</xsl:if>
							</SttlmTmIndctn>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:SttlmTmReq">
							<SttlmTmReq>
								<xsl:if test="pfx2:CLSTm">
									<CLSTm>
										<xsl:value-of select="pfx2:CLSTm"/>
									</CLSTm>
								</xsl:if>
								<xsl:if test="pfx2:TillTm">
									<TillTm>
										<xsl:value-of select="pfx2:TillTm"/>
									</TillTm>
								</xsl:if>
								<xsl:if test="pfx2:FrTm">
									<FrTm>
										<xsl:value-of select="pfx2:FrTm"/>
									</FrTm>
								</xsl:if>
								<xsl:if test="pfx2:RjctTm">
									<RjctTm>
										<xsl:value-of select="pfx2:RjctTm"/>
									</RjctTm>
								</xsl:if>
							</SttlmTmReq>
						</xsl:for-each>
						<xsl:if test="current()/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:AccptncDtTm">
							<AccptncDtTm>
								<xsl:value-of select="current()/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:AccptncDtTm"/>
							</AccptncDtTm>
						</xsl:if>
						<xsl:if test="current()/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:PoolgAdjstmntDt">
							<PoolgAdjstmntDt>
								<xsl:value-of select="current()/pfx2:IntrBkInf/pfx2:DtTmInf/pfx2:PoolgAdjstmntDt"/>
							</PoolgAdjstmntDt>
						</xsl:if>
						<xsl:if test="current()/pfx2:InitnInf/pfx2:AmtInf/pfx2:Amt/pfx2:InstdAmt">
							<InstdAmt>
								<xsl:attribute name="Ccy">
									<xsl:value-of select="current()/pfx2:InitnInf/pfx2:AmtInf/pfx2:Amt/pfx2:InstdAmt/@Ccy"/>
								</xsl:attribute>
								<xsl:value-of select="current()/pfx2:InitnInf/pfx2:AmtInf/pfx2:Amt/pfx2:InstdAmt"/>
							</InstdAmt>
						</xsl:if>
						<xsl:if test="current()/pfx2:IntrBkInf/pfx2:AmtInf/pfx2:XchgRate">
							<XchgRate>
								<xsl:value-of select="current()/pfx2:IntrBkInf/pfx2:AmtInf/pfx2:XchgRate"/>
							</XchgRate>
						</xsl:if>
						<xsl:choose>
							<xsl:when test="(current()/pfx2:PrtnrInf/pfx2:PTI/pfx2:PrtnTo='DOME' or  ../../pfx2:ITLHdr/pfx2:PrtnTo='DOME') and current()/pfx2:ChrgInf/pfx2:ChrgBr=''">
								<ChrgBr>
									<xsl:value-of select="&quot;SLEV&quot;"/>
								</ChrgBr>
							</xsl:when>
							<xsl:otherwise>
								<ChrgBr>
									<xsl:value-of select="current()/pfx2:ChrgInf/pfx2:ChrgBr"/>
								</ChrgBr>
							</xsl:otherwise>
						</xsl:choose>
						<xsl:for-each select="current()/pfx2:ChrgInf/pfx2:ChrgsInf">
							<ChrgsInf>
								<Amt>
									<xsl:attribute name="Ccy">
										<xsl:value-of select="pfx2:Amt/@Ccy"/>
									</xsl:attribute>
									<xsl:value-of select="pfx2:Amt"/>
								</Amt>
								<Pty>
									<xsl:for-each select="current()/pfx2:Agt/pfx2:FinInstnId">
										<FinInstnId>
											<xsl:if test="current()/pfx2:BICFI">
												<BIC>
													<xsl:value-of select="current()/pfx2:BICFI"/>
												</BIC>
											</xsl:if>
											<xsl:for-each select="pfx2:ClrSysMmbId">
												<ClrSysMmbId>
													<xsl:if test="string-length(current()/pfx2:ClrSysId/pfx2:Cd)>0  or string-length(current()/pfx2:ClrSysId/pfx2:Prtry)>0">
														<xsl:for-each select="pfx2:ClrSysId">
															<ClrSysId>
																<xsl:choose>
																	<xsl:when test="string-length(current()/pfx2:Cd)>0">
																		<Cd>
																			<xsl:value-of select="current()/pfx2:Cd"/>
																		</Cd>
																	</xsl:when>
																	<xsl:otherwise>
																		<Prtry>
																			<xsl:value-of select="current()/pfx2:Prtry"/>
																		</Prtry>
																	</xsl:otherwise>
																</xsl:choose>
															</ClrSysId>
														</xsl:for-each>
													</xsl:if>
													<MmbId>
														<xsl:value-of select="pfx2:MmbId"/>
													</MmbId>
												</ClrSysMmbId>
											</xsl:for-each>
											<xsl:if test="pfx2:Nm">
												<Nm>
													<xsl:value-of select="pfx2:Nm"/>
												</Nm>
											</xsl:if>
											<xsl:for-each select="pfx2:PstlAdr">
												<PstlAdr>
													<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
														<AdrTp>
															<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
														</AdrTp>
													</xsl:if>
													<xsl:if test="pfx2:Dept">
														<Dept>
															<xsl:value-of select="pfx2:Dept"/>
														</Dept>
													</xsl:if>
													<xsl:if test="pfx2:SubDept">
														<SubDept>
															<xsl:value-of select="pfx2:SubDept"/>
														</SubDept>
													</xsl:if>
													<xsl:if test="pfx2:StrtNm">
														<StrtNm>
															<xsl:value-of select="pfx2:StrtNm"/>
														</StrtNm>
													</xsl:if>
													<xsl:if test="pfx2:BldgNb">
														<BldgNb>
															<xsl:value-of select="pfx2:BldgNb"/>
														</BldgNb>
													</xsl:if>
													<xsl:if test="pfx2:PstCd">
														<PstCd>
															<xsl:value-of select="pfx2:PstCd"/>
														</PstCd>
													</xsl:if>
													<xsl:if test="pfx2:TwnNm">
														<TwnNm>
															<xsl:value-of select="pfx2:TwnNm"/>
														</TwnNm>
													</xsl:if>
													<xsl:if test="pfx2:CtrySubDvsn">
														<CtrySubDvsn>
															<xsl:value-of select="pfx2:CtrySubDvsn"/>
														</CtrySubDvsn>
													</xsl:if>
													<xsl:if test="pfx2:Ctry">
														<Ctry>
															<xsl:value-of select="pfx2:Ctry"/>
														</Ctry>
													</xsl:if>
													<xsl:for-each select="pfx2:AdrLine">
														<AdrLine>
															<xsl:value-of select="."/>
														</AdrLine>
													</xsl:for-each>
												</PstlAdr>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Othr">
												<Othr>
													<Id>
														<xsl:value-of select="pfx2:Id"/>
													</Id>
													<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
														<xsl:for-each select="pfx2:SchmeNm">
															<SchmeNm>
																<xsl:choose>
																	<xsl:when test="string-length(current()/pfx2:Cd)>0">
																		<Cd>
																			<xsl:value-of select="current()/pfx2:Cd"/>
																		</Cd>
																	</xsl:when>
																	<xsl:otherwise>
																		<Prtry>
																			<xsl:value-of select="current()/pfx2:Prtry"/>
																		</Prtry>
																	</xsl:otherwise>
																</xsl:choose>
															</SchmeNm>
														</xsl:for-each>
													</xsl:if>
													<xsl:if test="pfx2:Issr">
														<Issr>
															<xsl:value-of select="pfx2:Issr"/>
														</Issr>
													</xsl:if>
												</Othr>
											</xsl:for-each>
										</FinInstnId>
									</xsl:for-each>
									<xsl:for-each select="current()/pfx2:Agt/pfx2:BrnchId">
										<BrnchId>
											<xsl:if test="pfx2:Id">
												<Id>
													<xsl:value-of select="pfx2:Id"/>
												</Id>
											</xsl:if>
											<xsl:if test="pfx2:Nm">
												<Nm>
													<xsl:value-of select="pfx2:Nm"/>
												</Nm>
											</xsl:if>
											<xsl:for-each select="pfx2:PstlAdr">
												<PstlAdr>
													<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
														<AdrTp>
															<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
														</AdrTp>
													</xsl:if>
													<xsl:if test="pfx2:Dept">
														<Dept>
															<xsl:value-of select="pfx2:Dept"/>
														</Dept>
													</xsl:if>
													<xsl:if test="pfx2:SubDept">
														<SubDept>
															<xsl:value-of select="pfx2:SubDept"/>
														</SubDept>
													</xsl:if>
													<xsl:if test="pfx2:StrtNm">
														<StrtNm>
															<xsl:value-of select="pfx2:StrtNm"/>
														</StrtNm>
													</xsl:if>
													<xsl:if test="pfx2:BldgNb">
														<BldgNb>
															<xsl:value-of select="pfx2:BldgNb"/>
														</BldgNb>
													</xsl:if>
													<xsl:if test="pfx2:PstCd">
														<PstCd>
															<xsl:value-of select="pfx2:PstCd"/>
														</PstCd>
													</xsl:if>
													<xsl:if test="pfx2:TwnNm">
														<TwnNm>
															<xsl:value-of select="pfx2:TwnNm"/>
														</TwnNm>
													</xsl:if>
													<xsl:if test="pfx2:CtrySubDvsn">
														<CtrySubDvsn>
															<xsl:value-of select="pfx2:CtrySubDvsn"/>
														</CtrySubDvsn>
													</xsl:if>
													<xsl:if test="pfx2:Ctry">
														<Ctry>
															<xsl:value-of select="pfx2:Ctry"/>
														</Ctry>
													</xsl:if>
													<xsl:for-each select="pfx2:AdrLine">
														<AdrLine>
															<xsl:value-of select="."/>
														</AdrLine>
													</xsl:for-each>
												</PstlAdr>
											</xsl:for-each>
										</BrnchId>
									</xsl:for-each>
								</Pty>
							</ChrgsInf>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='PRVSINSTGAGT1'][1]/pfx2:Agt">
							<PrvsInstgAgt>
								<xsl:for-each select="pfx2:FinInstnId">
									<FinInstnId>
										<xsl:if test="current()/pfx2:BICFI">
											<BIC>
												<xsl:value-of select="current()/pfx2:BICFI"/>
											</BIC>
										</xsl:if>
										<xsl:for-each select="pfx2:ClrSysMmbId">
											<ClrSysMmbId>
												<xsl:if test="string-length(current()/pfx2:ClrSysId/pfx2:Cd)>0  or string-length(current()/pfx2:ClrSysId/pfx2:Prtry)>0">
													<xsl:for-each select="pfx2:ClrSysId">
														<ClrSysId>
															<xsl:choose>
																<xsl:when test="string-length(current()/pfx2:Cd)>0">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</ClrSysId>
													</xsl:for-each>
												</xsl:if>
												<MmbId>
													<xsl:value-of select="pfx2:MmbId"/>
												</MmbId>
											</ClrSysMmbId>
										</xsl:for-each>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
										<xsl:for-each select="pfx2:Othr">
											<Othr>
												<Id>
													<xsl:value-of select="pfx2:Id"/>
												</Id>
												<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
													<xsl:for-each select="pfx2:SchmeNm">
														<SchmeNm>
															<xsl:choose>
																<xsl:when test="string-length(current()/pfx2:Cd)>0">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</SchmeNm>
													</xsl:for-each>
												</xsl:if>
												<xsl:if test="pfx2:Issr">
													<Issr>
														<xsl:value-of select="pfx2:Issr"/>
													</Issr>
												</xsl:if>
											</Othr>
										</xsl:for-each>
									</FinInstnId>
								</xsl:for-each>
								<xsl:for-each select="pfx2:BrnchId">
									<BrnchId>
										<xsl:if test="pfx2:Id">
											<Id>
												<xsl:value-of select="pfx2:Id"/>
											</Id>
										</xsl:if>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
									</BrnchId>
								</xsl:for-each>
							</PrvsInstgAgt>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='PRVSINSTGAGT1'][1]/pfx2:Acct/pfx2:CashAcct">
							<PrvsInstgAgtAcct>
								<xsl:for-each select="pfx2:Id">
									<Id>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:IBAN)>0">
												<IBAN>
													<xsl:value-of select="current()/pfx2:IBAN"/>
												</IBAN>
											</xsl:when>
											<xsl:otherwise>
												<xsl:for-each select="current()/pfx2:Othr">
													<Othr>
														<Id>
															<xsl:value-of select="pfx2:Id"/>
														</Id>
														<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
															<xsl:for-each select="pfx2:SchmeNm">
																<SchmeNm>
																	<xsl:choose>
																		<xsl:when test="string-length(current()/pfx2:Cd)>0">
																			<Cd>
																				<xsl:value-of select="current()/pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="current()/pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</SchmeNm>
															</xsl:for-each>
														</xsl:if>
														<xsl:if test="pfx2:Issr">
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</xsl:if>
													</Othr>
												</xsl:for-each>
											</xsl:otherwise>
										</xsl:choose>
									</Id>
								</xsl:for-each>
								<xsl:for-each select="pfx2:Tp">
									<Tp>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:Cd)>0">
												<Cd>
													<xsl:value-of select="current()/pfx2:Cd"/>
												</Cd>
											</xsl:when>
											<xsl:otherwise>
												<Prtry>
													<xsl:value-of select="current()/pfx2:Prtry"/>
												</Prtry>
											</xsl:otherwise>
										</xsl:choose>
									</Tp>
								</xsl:for-each>
								<xsl:if test="pfx2:Ccy">
									<Ccy>
										<xsl:value-of select="pfx2:Ccy"/>
									</Ccy>
								</xsl:if>
								<xsl:if test="pfx2:Nm">
									<Nm>
										<xsl:value-of select="pfx2:Nm"/>
									</Nm>
								</xsl:if>
							</PrvsInstgAgtAcct>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INSTGAGT'][1]/pfx2:Agt">
							<InstgAgt>
								<xsl:for-each select="pfx2:FinInstnId">
									<FinInstnId>
										<xsl:if test="current()/pfx2:BICFI">
											<BIC>
												<xsl:value-of select="current()/pfx2:BICFI"/>
											</BIC>
										</xsl:if>
										<xsl:for-each select="pfx2:ClrSysMmbId">
											<ClrSysMmbId>
												<xsl:if test="string-length(current()/pfx2:ClrSysId/pfx2:Cd)>0  or string-length(current()/pfx2:ClrSysId/pfx2:Prtry)>0">
													<xsl:for-each select="pfx2:ClrSysId">
														<ClrSysId>
															<xsl:choose>
																<xsl:when test="string-length(current()/pfx2:Cd)>0">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</ClrSysId>
													</xsl:for-each>
												</xsl:if>
												<MmbId>
													<xsl:value-of select="pfx2:MmbId"/>
												</MmbId>
											</ClrSysMmbId>
										</xsl:for-each>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
										<xsl:for-each select="pfx2:Othr">
											<Othr>
												<Id>
													<xsl:value-of select="pfx2:Id"/>
												</Id>
												<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
													<xsl:for-each select="pfx2:SchmeNm">
														<SchmeNm>
															<xsl:choose>
																<xsl:when test="string-length(current()/pfx2:Cd)>0">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</SchmeNm>
													</xsl:for-each>
												</xsl:if>
												<xsl:if test="pfx2:Issr">
													<Issr>
														<xsl:value-of select="pfx2:Issr"/>
													</Issr>
												</xsl:if>
											</Othr>
										</xsl:for-each>
									</FinInstnId>
								</xsl:for-each>
								<xsl:for-each select="pfx2:BrnchId">
									<BrnchId>
										<xsl:if test="pfx2:Id">
											<Id>
												<xsl:value-of select="pfx2:Id"/>
											</Id>
										</xsl:if>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
									</BrnchId>
								</xsl:for-each>
							</InstgAgt>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INSTDAGT'][1]/pfx2:Agt">
							<InstdAgt>
								<xsl:for-each select="pfx2:FinInstnId">
									<FinInstnId>
										<xsl:if test="current()/pfx2:BICFI">
											<BIC>
												<xsl:value-of select="current()/pfx2:BICFI"/>
											</BIC>
										</xsl:if>
										<xsl:for-each select="pfx2:ClrSysMmbId">
											<ClrSysMmbId>
												<xsl:if test="string-length(current()/pfx2:ClrSysId/pfx2:Cd)>0  or string-length(current()/pfx2:ClrSysId/pfx2:Prtry)>0">
													<xsl:for-each select="pfx2:ClrSysId">
														<ClrSysId>
															<xsl:choose>
																<xsl:when test="string-length(current()/pfx2:Cd)>0">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</ClrSysId>
													</xsl:for-each>
												</xsl:if>
												<MmbId>
													<xsl:value-of select="pfx2:MmbId"/>
												</MmbId>
											</ClrSysMmbId>
										</xsl:for-each>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
										<xsl:for-each select="pfx2:Othr">
											<Othr>
												<Id>
													<xsl:value-of select="pfx2:Id"/>
												</Id>
												<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
													<xsl:for-each select="pfx2:SchmeNm">
														<SchmeNm>
															<xsl:choose>
																<xsl:when test="string-length(current()/pfx2:Cd)>0">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</SchmeNm>
													</xsl:for-each>
												</xsl:if>
												<xsl:if test="pfx2:Issr">
													<Issr>
														<xsl:value-of select="pfx2:Issr"/>
													</Issr>
												</xsl:if>
											</Othr>
										</xsl:for-each>
									</FinInstnId>
								</xsl:for-each>
								<xsl:for-each select="pfx2:BrnchId">
									<BrnchId>
										<xsl:if test="pfx2:Id">
											<Id>
												<xsl:value-of select="pfx2:Id"/>
											</Id>
										</xsl:if>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
									</BrnchId>
								</xsl:for-each>
							</InstdAgt>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INTRMYAGT1'][1]/pfx2:Agt">
							<IntrmyAgt1>
								<xsl:for-each select="pfx2:FinInstnId">
									<FinInstnId>
										<xsl:if test="current()/pfx2:BICFI">
											<BIC>
												<xsl:value-of select="current()/pfx2:BICFI"/>
											</BIC>
										</xsl:if>
										<xsl:for-each select="pfx2:ClrSysMmbId">
											<ClrSysMmbId>
												<xsl:if test="string-length(current()/pfx2:ClrSysId/pfx2:Cd)>0  or string-length(current()/pfx2:ClrSysId/pfx2:Prtry)>0">
													<xsl:for-each select="pfx2:ClrSysId">
														<ClrSysId>
															<xsl:choose>
																<xsl:when test="string-length(current()/pfx2:Cd)>0">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</ClrSysId>
													</xsl:for-each>
												</xsl:if>
												<MmbId>
													<xsl:value-of select="pfx2:MmbId"/>
												</MmbId>
											</ClrSysMmbId>
										</xsl:for-each>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
										<xsl:for-each select="pfx2:Othr">
											<Othr>
												<Id>
													<xsl:value-of select="pfx2:Id"/>
												</Id>
												<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
													<xsl:for-each select="pfx2:SchmeNm">
														<SchmeNm>
															<xsl:choose>
																<xsl:when test="string-length(current()/pfx2:Cd)>0">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</SchmeNm>
													</xsl:for-each>
												</xsl:if>
												<xsl:if test="pfx2:Issr">
													<Issr>
														<xsl:value-of select="pfx2:Issr"/>
													</Issr>
												</xsl:if>
											</Othr>
										</xsl:for-each>
									</FinInstnId>
								</xsl:for-each>
								<xsl:for-each select="pfx2:BrnchId">
									<BrnchId>
										<xsl:if test="pfx2:Id">
											<Id>
												<xsl:value-of select="pfx2:Id"/>
											</Id>
										</xsl:if>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
									</BrnchId>
								</xsl:for-each>
							</IntrmyAgt1>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INTRMYAGT1'][1]/pfx2:Acct/pfx2:CashAcct">
							<IntrmyAgt1Acct>
								<xsl:for-each select="pfx2:Id">
									<Id>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:IBAN)>0">
												<IBAN>
													<xsl:value-of select="current()/pfx2:IBAN"/>
												</IBAN>
											</xsl:when>
											<xsl:otherwise>
												<xsl:for-each select="current()/pfx2:Othr">
													<Othr>
														<Id>
															<xsl:value-of select="pfx2:Id"/>
														</Id>
														<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
															<xsl:for-each select="pfx2:SchmeNm">
																<SchmeNm>
																	<xsl:choose>
																		<xsl:when test="string-length(current()/pfx2:Cd)>0">
																			<Cd>
																				<xsl:value-of select="current()/pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="current()/pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</SchmeNm>
															</xsl:for-each>
														</xsl:if>
														<xsl:if test="pfx2:Issr">
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</xsl:if>
													</Othr>
												</xsl:for-each>
											</xsl:otherwise>
										</xsl:choose>
									</Id>
								</xsl:for-each>
								<xsl:for-each select="pfx2:Tp">
									<Tp>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:Cd)>0">
												<Cd>
													<xsl:value-of select="current()/pfx2:Cd"/>
												</Cd>
											</xsl:when>
											<xsl:otherwise>
												<Prtry>
													<xsl:value-of select="current()/pfx2:Prtry"/>
												</Prtry>
											</xsl:otherwise>
										</xsl:choose>
									</Tp>
								</xsl:for-each>
								<xsl:if test="pfx2:Ccy">
									<Ccy>
										<xsl:value-of select="pfx2:Ccy"/>
									</Ccy>
								</xsl:if>
								<xsl:if test="pfx2:Nm">
									<Nm>
										<xsl:value-of select="pfx2:Nm"/>
									</Nm>
								</xsl:if>
							</IntrmyAgt1Acct>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INTRMYAGT2'][1]/pfx2:Agt">
							<IntrmyAgt2>
								<xsl:for-each select="pfx2:FinInstnId">
									<FinInstnId>
										<xsl:if test="current()/pfx2:BICFI">
											<BIC>
												<xsl:value-of select="current()/pfx2:BICFI"/>
											</BIC>
										</xsl:if>
										<xsl:for-each select="pfx2:ClrSysMmbId">
											<ClrSysMmbId>
												<xsl:if test="string-length(current()/pfx2:ClrSysId/pfx2:Cd)>0  or string-length(current()/pfx2:ClrSysId/pfx2:Prtry)>0">
													<xsl:for-each select="pfx2:ClrSysId">
														<ClrSysId>
															<xsl:choose>
																<xsl:when test="string-length(current()/pfx2:Cd)>0">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</ClrSysId>
													</xsl:for-each>
												</xsl:if>
												<MmbId>
													<xsl:value-of select="pfx2:MmbId"/>
												</MmbId>
											</ClrSysMmbId>
										</xsl:for-each>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
										<xsl:for-each select="pfx2:Othr">
											<Othr>
												<Id>
													<xsl:value-of select="pfx2:Id"/>
												</Id>
												<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
													<xsl:for-each select="pfx2:SchmeNm">
														<SchmeNm>
															<xsl:choose>
																<xsl:when test="string-length(current()/pfx2:Cd)>0">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</SchmeNm>
													</xsl:for-each>
												</xsl:if>
												<xsl:if test="pfx2:Issr">
													<Issr>
														<xsl:value-of select="pfx2:Issr"/>
													</Issr>
												</xsl:if>
											</Othr>
										</xsl:for-each>
									</FinInstnId>
								</xsl:for-each>
								<xsl:for-each select="pfx2:BrnchId">
									<BrnchId>
										<xsl:if test="pfx2:Id">
											<Id>
												<xsl:value-of select="pfx2:Id"/>
											</Id>
										</xsl:if>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
									</BrnchId>
								</xsl:for-each>
							</IntrmyAgt2>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INTRMYAGT2'][1]/pfx2:Acct/pfx2:CashAcct">
							<IntrmyAgt2Acct>
								<xsl:for-each select="pfx2:Id">
									<Id>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:IBAN)>0">
												<IBAN>
													<xsl:value-of select="current()/pfx2:IBAN"/>
												</IBAN>
											</xsl:when>
											<xsl:otherwise>
												<xsl:for-each select="current()/pfx2:Othr">
													<Othr>
														<Id>
															<xsl:value-of select="pfx2:Id"/>
														</Id>
														<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
															<xsl:for-each select="pfx2:SchmeNm">
																<SchmeNm>
																	<xsl:choose>
																		<xsl:when test="string-length(current()/pfx2:Cd)>0">
																			<Cd>
																				<xsl:value-of select="current()/pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="current()/pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</SchmeNm>
															</xsl:for-each>
														</xsl:if>
														<xsl:if test="pfx2:Issr">
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</xsl:if>
													</Othr>
												</xsl:for-each>
											</xsl:otherwise>
										</xsl:choose>
									</Id>
								</xsl:for-each>
								<xsl:for-each select="pfx2:Tp">
									<Tp>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:Cd)>0">
												<Cd>
													<xsl:value-of select="current()/pfx2:Cd"/>
												</Cd>
											</xsl:when>
											<xsl:otherwise>
												<Prtry>
													<xsl:value-of select="current()/pfx2:Prtry"/>
												</Prtry>
											</xsl:otherwise>
										</xsl:choose>
									</Tp>
								</xsl:for-each>
								<xsl:if test="pfx2:Ccy">
									<Ccy>
										<xsl:value-of select="pfx2:Ccy"/>
									</Ccy>
								</xsl:if>
								<xsl:if test="pfx2:Nm">
									<Nm>
										<xsl:value-of select="pfx2:Nm"/>
									</Nm>
								</xsl:if>
							</IntrmyAgt2Acct>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INTRMYAGT3'][1]/pfx2:Agt">
							<IntrmyAgt3>
								<xsl:for-each select="pfx2:FinInstnId">
									<FinInstnId>
										<xsl:if test="current()/pfx2:BICFI">
											<BIC>
												<xsl:value-of select="current()/pfx2:BICFI"/>
											</BIC>
										</xsl:if>
										<xsl:for-each select="pfx2:ClrSysMmbId">
											<ClrSysMmbId>
												<xsl:if test="string-length(current()/pfx2:ClrSysId/pfx2:Cd)>0  or string-length(current()/pfx2:ClrSysId/pfx2:Prtry)>0">
													<xsl:for-each select="pfx2:ClrSysId">
														<ClrSysId>
															<xsl:choose>
																<xsl:when test="string-length(current()/pfx2:Cd)>0">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</ClrSysId>
													</xsl:for-each>
												</xsl:if>
												<MmbId>
													<xsl:value-of select="pfx2:MmbId"/>
												</MmbId>
											</ClrSysMmbId>
										</xsl:for-each>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
										<xsl:for-each select="pfx2:Othr">
											<Othr>
												<Id>
													<xsl:value-of select="pfx2:Id"/>
												</Id>
												<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
													<xsl:for-each select="pfx2:SchmeNm">
														<SchmeNm>
															<xsl:choose>
																<xsl:when test="string-length(current()/pfx2:Cd)>0">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</SchmeNm>
													</xsl:for-each>
												</xsl:if>
												<xsl:if test="pfx2:Issr">
													<Issr>
														<xsl:value-of select="pfx2:Issr"/>
													</Issr>
												</xsl:if>
											</Othr>
										</xsl:for-each>
									</FinInstnId>
								</xsl:for-each>
								<xsl:for-each select="pfx2:BrnchId">
									<BrnchId>
										<xsl:if test="pfx2:Id">
											<Id>
												<xsl:value-of select="pfx2:Id"/>
											</Id>
										</xsl:if>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
									</BrnchId>
								</xsl:for-each>
							</IntrmyAgt3>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='INTRMYAGT3'][1]/pfx2:Acct/pfx2:CashAcct">
							<IntrmyAgt3Acct>
								<xsl:for-each select="pfx2:Id">
									<Id>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:IBAN)>0">
												<IBAN>
													<xsl:value-of select="current()/pfx2:IBAN"/>
												</IBAN>
											</xsl:when>
											<xsl:otherwise>
												<xsl:for-each select="current()/pfx2:Othr">
													<Othr>
														<Id>
															<xsl:value-of select="pfx2:Id"/>
														</Id>
														<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
															<xsl:for-each select="pfx2:SchmeNm">
																<SchmeNm>
																	<xsl:choose>
																		<xsl:when test="string-length(current()/pfx2:Cd)>0">
																			<Cd>
																				<xsl:value-of select="current()/pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="current()/pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</SchmeNm>
															</xsl:for-each>
														</xsl:if>
														<xsl:if test="pfx2:Issr">
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</xsl:if>
													</Othr>
												</xsl:for-each>
											</xsl:otherwise>
										</xsl:choose>
									</Id>
								</xsl:for-each>
								<xsl:for-each select="pfx2:Tp">
									<Tp>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:Cd)>0">
												<Cd>
													<xsl:value-of select="current()/pfx2:Cd"/>
												</Cd>
											</xsl:when>
											<xsl:otherwise>
												<Prtry>
													<xsl:value-of select="current()/pfx2:Prtry"/>
												</Prtry>
											</xsl:otherwise>
										</xsl:choose>
									</Tp>
								</xsl:for-each>
								<xsl:if test="pfx2:Ccy">
									<Ccy>
										<xsl:value-of select="pfx2:Ccy"/>
									</Ccy>
								</xsl:if>
								<xsl:if test="pfx2:Nm">
									<Nm>
										<xsl:value-of select="pfx2:Nm"/>
									</Nm>
								</xsl:if>
							</IntrmyAgt3Acct>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:InitnInf/pfx2:ActInf[pfx2:ActTp='ULTMTDBTR'][1]/pfx2:Pty">
							<UltmtDbtr>
								<xsl:if test="pfx2:Nm">
									<Nm>
										<xsl:value-of select="pfx2:Nm"/>
									</Nm>
								</xsl:if>
								<xsl:for-each select="pfx2:PstlAdr">
									<PstlAdr>
										<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
											<AdrTp>
												<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
											</AdrTp>
										</xsl:if>
										<xsl:if test="pfx2:Dept">
											<Dept>
												<xsl:value-of select="pfx2:Dept"/>
											</Dept>
										</xsl:if>
										<xsl:if test="pfx2:SubDept">
											<SubDept>
												<xsl:value-of select="pfx2:SubDept"/>
											</SubDept>
										</xsl:if>
										<xsl:if test="pfx2:StrtNm">
											<StrtNm>
												<xsl:value-of select="pfx2:StrtNm"/>
											</StrtNm>
										</xsl:if>
										<xsl:if test="pfx2:BldgNb">
											<BldgNb>
												<xsl:value-of select="pfx2:BldgNb"/>
											</BldgNb>
										</xsl:if>
										<xsl:if test="pfx2:PstCd">
											<PstCd>
												<xsl:value-of select="pfx2:PstCd"/>
											</PstCd>
										</xsl:if>
										<xsl:if test="pfx2:TwnNm">
											<TwnNm>
												<xsl:value-of select="pfx2:TwnNm"/>
											</TwnNm>
										</xsl:if>
										<xsl:if test="pfx2:CtrySubDvsn">
											<CtrySubDvsn>
												<xsl:value-of select="pfx2:CtrySubDvsn"/>
											</CtrySubDvsn>
										</xsl:if>
										<xsl:if test="pfx2:Ctry">
											<Ctry>
												<xsl:value-of select="pfx2:Ctry"/>
											</Ctry>
										</xsl:if>
										<xsl:for-each select="pfx2:AdrLine">
											<AdrLine>
												<xsl:value-of select="."/>
											</AdrLine>
										</xsl:for-each>
									</PstlAdr>
								</xsl:for-each>
								<xsl:for-each select="pfx2:Id">
									<Id>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:OrgId)>0">
												<xsl:for-each select="current()/pfx2:OrgId">
													<OrgId>
														<xsl:if test="current()/pfx2:AnyBIC">
															<BICOrBEI>
																<xsl:value-of select="current()/pfx2:AnyBIC"/>
															</BICOrBEI>
														</xsl:if>
														<xsl:for-each select="pfx2:Othr">
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<xsl:for-each select="pfx2:SchmeNm">
																		<SchmeNm>
																			<xsl:choose>
																				<xsl:when test="string-length(current()/pfx2:Cd)>0">
																					<Cd>
																						<xsl:value-of select="current()/pfx2:Cd"/>
																					</Cd>
																				</xsl:when>
																				<xsl:otherwise>
																					<Prtry>
																						<xsl:value-of select="current()/pfx2:Prtry"/>
																					</Prtry>
																				</xsl:otherwise>
																			</xsl:choose>
																		</SchmeNm>
																	</xsl:for-each>
																</xsl:if>
																<xsl:if test="pfx2:Issr">
																	<Issr>
																		<xsl:value-of select="pfx2:Issr"/>
																	</Issr>
																</xsl:if>
															</Othr>
														</xsl:for-each>
													</OrgId>
												</xsl:for-each>
											</xsl:when>
											<xsl:otherwise>
												<xsl:for-each select="current()/pfx2:PrvtId">
													<PrvtId>
														<xsl:for-each select="pfx2:DtAndPlcOfBirth">
															<DtAndPlcOfBirth>
																<BirthDt>
																	<xsl:value-of select="pfx2:BirthDt"/>
																</BirthDt>
																<xsl:if test="pfx2:PrvcOfBirth">
																	<PrvcOfBirth>
																		<xsl:value-of select="pfx2:PrvcOfBirth"/>
																	</PrvcOfBirth>
																</xsl:if>
																<CityOfBirth>
																	<xsl:value-of select="pfx2:CityOfBirth"/>
																</CityOfBirth>
																<CtryOfBirth>
																	<xsl:value-of select="pfx2:CtryOfBirth"/>
																</CtryOfBirth>
															</DtAndPlcOfBirth>
														</xsl:for-each>
														<xsl:for-each select="pfx2:Othr">
															<Othr>
																<Id>
																	<xsl:value-of select="pfx2:Id"/>
																</Id>
																<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																	<xsl:for-each select="pfx2:SchmeNm">
																		<SchmeNm>
																			<xsl:choose>
																				<xsl:when test="string-length(current()/pfx2:Cd)>0">
																					<Cd>
																						<xsl:value-of select="current()/pfx2:Cd"/>
																					</Cd>
																				</xsl:when>
																				<xsl:otherwise>
																					<Prtry>
																						<xsl:value-of select="current()/pfx2:Prtry"/>
																					</Prtry>
																				</xsl:otherwise>
																			</xsl:choose>
																		</SchmeNm>
																	</xsl:for-each>
																</xsl:if>
																<xsl:if test="pfx2:Issr">
																	<Issr>
																		<xsl:value-of select="pfx2:Issr"/>
																	</Issr>
																</xsl:if>
															</Othr>
														</xsl:for-each>
													</PrvtId>
												</xsl:for-each>
											</xsl:otherwise>
										</xsl:choose>
									</Id>
								</xsl:for-each>
								<xsl:if test="pfx2:CtryOfRes">
									<CtryOfRes>
										<xsl:value-of select="pfx2:CtryOfRes"/>
									</CtryOfRes>
								</xsl:if>
								<xsl:for-each select="pfx2:CtctDtls">
									<CtctDtls>
										<xsl:if test="pfx2:NmPrfx">
											<NmPrfx>
												<xsl:value-of select="pfx2:NmPrfx"/>
											</NmPrfx>
										</xsl:if>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:if test="pfx2:PhneNb">
											<PhneNb>
												<xsl:value-of select="pfx2:PhneNb"/>
											</PhneNb>
										</xsl:if>
										<xsl:if test="pfx2:MobNb">
											<MobNb>
												<xsl:value-of select="pfx2:MobNb"/>
											</MobNb>
										</xsl:if>
										<xsl:if test="pfx2:FaxNb">
											<FaxNb>
												<xsl:value-of select="pfx2:FaxNb"/>
											</FaxNb>
										</xsl:if>
										<xsl:if test="pfx2:EmailAdr">
											<EmailAdr>
												<xsl:value-of select="pfx2:EmailAdr"/>
											</EmailAdr>
										</xsl:if>
										<xsl:if test="current()/pfx2:Othr[1]/pfx2:Id">
											<Othr>
												<xsl:value-of select="current()/pfx2:Othr[1]/pfx2:Id"/>
											</Othr>
										</xsl:if>
									</CtctDtls>
								</xsl:for-each>
							</UltmtDbtr>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:InitnInf/pfx2:ActInf[pfx2:ActTp='INITGPTY'][1]/pfx2:Pty">
							<InitgPty>
								<xsl:if test="pfx2:Nm">
									<Nm>
										<xsl:value-of select="pfx2:Nm"/>
									</Nm>
								</xsl:if>
								<xsl:for-each select="pfx2:PstlAdr">
									<PstlAdr>
										<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
											<AdrTp>
												<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
											</AdrTp>
										</xsl:if>
										<xsl:if test="pfx2:Dept">
											<Dept>
												<xsl:value-of select="pfx2:Dept"/>
											</Dept>
										</xsl:if>
										<xsl:if test="pfx2:SubDept">
											<SubDept>
												<xsl:value-of select="pfx2:SubDept"/>
											</SubDept>
										</xsl:if>
										<xsl:if test="pfx2:StrtNm">
											<StrtNm>
												<xsl:value-of select="pfx2:StrtNm"/>
											</StrtNm>
										</xsl:if>
										<xsl:if test="pfx2:BldgNb">
											<BldgNb>
												<xsl:value-of select="pfx2:BldgNb"/>
											</BldgNb>
										</xsl:if>
										<xsl:if test="pfx2:PstCd">
											<PstCd>
												<xsl:value-of select="pfx2:PstCd"/>
											</PstCd>
										</xsl:if>
										<xsl:if test="pfx2:TwnNm">
											<TwnNm>
												<xsl:value-of select="pfx2:TwnNm"/>
											</TwnNm>
										</xsl:if>
										<xsl:if test="pfx2:CtrySubDvsn">
											<CtrySubDvsn>
												<xsl:value-of select="pfx2:CtrySubDvsn"/>
											</CtrySubDvsn>
										</xsl:if>
										<xsl:if test="pfx2:Ctry">
											<Ctry>
												<xsl:value-of select="pfx2:Ctry"/>
											</Ctry>
										</xsl:if>
										<xsl:for-each select="pfx2:AdrLine">
											<AdrLine>
												<xsl:value-of select="."/>
											</AdrLine>
										</xsl:for-each>
									</PstlAdr>
								</xsl:for-each>
								<xsl:if test="string-length(current()/pfx2:Id/pfx2:OrgId)>0 or string-length(current()/pfx2:Id/pfx2:PrvtId)>0">
									<xsl:for-each select="pfx2:Id">
										<Id>
											<xsl:choose>
												<xsl:when test="string-length(current()/pfx2:OrgId)>0">
													<xsl:for-each select="current()/pfx2:OrgId">
														<OrgId>
															<xsl:if test="current()/pfx2:AnyBIC">
																<BICOrBEI>
																	<xsl:value-of select="current()/pfx2:AnyBIC"/>
																</BICOrBEI>
															</xsl:if>
															<xsl:for-each select="pfx2:Othr">
																<Othr>
																	<Id>
																		<xsl:value-of select="pfx2:Id"/>
																	</Id>
																	<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																		<xsl:for-each select="pfx2:SchmeNm">
																			<SchmeNm>
																				<xsl:choose>
																					<xsl:when test="string-length(current()/pfx2:Cd)>0">
																						<Cd>
																							<xsl:value-of select="current()/pfx2:Cd"/>
																						</Cd>
																					</xsl:when>
																					<xsl:otherwise>
																						<Prtry>
																							<xsl:value-of select="current()/pfx2:Prtry"/>
																						</Prtry>
																					</xsl:otherwise>
																				</xsl:choose>
																			</SchmeNm>
																		</xsl:for-each>
																	</xsl:if>
																	<xsl:if test="pfx2:Issr">
																		<Issr>
																			<xsl:value-of select="pfx2:Issr"/>
																		</Issr>
																	</xsl:if>
																</Othr>
															</xsl:for-each>
														</OrgId>
													</xsl:for-each>
												</xsl:when>
												<xsl:otherwise>
													<xsl:for-each select="current()/pfx2:PrvtId">
														<PrvtId>
															<xsl:for-each select="pfx2:DtAndPlcOfBirth">
																<DtAndPlcOfBirth>
																	<BirthDt>
																		<xsl:value-of select="pfx2:BirthDt"/>
																	</BirthDt>
																	<xsl:if test="pfx2:PrvcOfBirth">
																		<PrvcOfBirth>
																			<xsl:value-of select="pfx2:PrvcOfBirth"/>
																		</PrvcOfBirth>
																	</xsl:if>
																	<CityOfBirth>
																		<xsl:value-of select="pfx2:CityOfBirth"/>
																	</CityOfBirth>
																	<CtryOfBirth>
																		<xsl:value-of select="pfx2:CtryOfBirth"/>
																	</CtryOfBirth>
																</DtAndPlcOfBirth>
															</xsl:for-each>
															<xsl:for-each select="pfx2:Othr">
																<Othr>
																	<Id>
																		<xsl:value-of select="pfx2:Id"/>
																	</Id>
																	<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																		<xsl:for-each select="pfx2:SchmeNm">
																			<SchmeNm>
																				<xsl:choose>
																					<xsl:when test="string-length(current()/pfx2:Cd)>0">
																						<Cd>
																							<xsl:value-of select="current()/pfx2:Cd"/>
																						</Cd>
																					</xsl:when>
																					<xsl:otherwise>
																						<Prtry>
																							<xsl:value-of select="current()/pfx2:Prtry"/>
																						</Prtry>
																					</xsl:otherwise>
																				</xsl:choose>
																			</SchmeNm>
																		</xsl:for-each>
																	</xsl:if>
																	<xsl:if test="pfx2:Issr">
																		<Issr>
																			<xsl:value-of select="pfx2:Issr"/>
																		</Issr>
																	</xsl:if>
																</Othr>
															</xsl:for-each>
														</PrvtId>
													</xsl:for-each>
												</xsl:otherwise>
											</xsl:choose>
										</Id>
									</xsl:for-each>
								</xsl:if>
								<xsl:if test="pfx2:CtryOfRes">
									<CtryOfRes>
										<xsl:value-of select="pfx2:CtryOfRes"/>
									</CtryOfRes>
								</xsl:if>
								<xsl:for-each select="pfx2:CtctDtls">
									<CtctDtls>
										<xsl:if test="pfx2:NmPrfx">
											<NmPrfx>
												<xsl:value-of select="pfx2:NmPrfx"/>
											</NmPrfx>
										</xsl:if>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:if test="pfx2:PhneNb">
											<PhneNb>
												<xsl:value-of select="pfx2:PhneNb"/>
											</PhneNb>
										</xsl:if>
										<xsl:if test="pfx2:MobNb">
											<MobNb>
												<xsl:value-of select="pfx2:MobNb"/>
											</MobNb>
										</xsl:if>
										<xsl:if test="pfx2:FaxNb">
											<FaxNb>
												<xsl:value-of select="pfx2:FaxNb"/>
											</FaxNb>
										</xsl:if>
										<xsl:if test="pfx2:EmailAdr">
											<EmailAdr>
												<xsl:value-of select="pfx2:EmailAdr"/>
											</EmailAdr>
										</xsl:if>
										<xsl:if test="current()/pfx2:Othr[1]/pfx2:Id">
											<Othr>
												<xsl:value-of select="current()/pfx2:Othr[1]/pfx2:Id"/>
											</Othr>
										</xsl:if>
									</CtctDtls>
								</xsl:for-each>
							</InitgPty>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:InitnInf/pfx2:ActInf[pfx2:ActTp='DBTR'][1]/pfx2:Pty">
							<Dbtr>
								<xsl:if test="pfx2:Nm">
									<Nm>
										<xsl:value-of select="pfx2:Nm"/>
									</Nm>
								</xsl:if>
								<xsl:for-each select="pfx2:PstlAdr">
									<PstlAdr>
										<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
											<AdrTp>
												<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
											</AdrTp>
										</xsl:if>
										<xsl:if test="pfx2:Dept">
											<Dept>
												<xsl:value-of select="pfx2:Dept"/>
											</Dept>
										</xsl:if>
										<xsl:if test="pfx2:SubDept">
											<SubDept>
												<xsl:value-of select="pfx2:SubDept"/>
											</SubDept>
										</xsl:if>
										<xsl:if test="pfx2:StrtNm">
											<StrtNm>
												<xsl:value-of select="pfx2:StrtNm"/>
											</StrtNm>
										</xsl:if>
										<xsl:if test="pfx2:BldgNb">
											<BldgNb>
												<xsl:value-of select="pfx2:BldgNb"/>
											</BldgNb>
										</xsl:if>
										<xsl:if test="pfx2:PstCd">
											<PstCd>
												<xsl:value-of select="pfx2:PstCd"/>
											</PstCd>
										</xsl:if>
										<xsl:if test="pfx2:TwnNm">
											<TwnNm>
												<xsl:value-of select="pfx2:TwnNm"/>
											</TwnNm>
										</xsl:if>
										<xsl:if test="pfx2:CtrySubDvsn">
											<CtrySubDvsn>
												<xsl:value-of select="pfx2:CtrySubDvsn"/>
											</CtrySubDvsn>
										</xsl:if>
										<xsl:if test="pfx2:Ctry">
											<Ctry>
												<xsl:value-of select="pfx2:Ctry"/>
											</Ctry>
										</xsl:if>
										<xsl:for-each select="pfx2:AdrLine">
											<AdrLine>
												<xsl:value-of select="."/>
											</AdrLine>
										</xsl:for-each>
									</PstlAdr>
								</xsl:for-each>
								<xsl:if test="string-length(current()/pfx2:Id/pfx2:OrgId)>0 or string-length(current()/pfx2:Id/pfx2:PrvtId)>0">
									<xsl:for-each select="pfx2:Id">
										<Id>
											<xsl:choose>
												<xsl:when test="string-length(current()/pfx2:OrgId)>0">
													<xsl:for-each select="current()/pfx2:OrgId">
														<OrgId>
															<xsl:if test="current()/pfx2:AnyBIC">
																<BICOrBEI>
																	<xsl:value-of select="current()/pfx2:AnyBIC"/>
																</BICOrBEI>
															</xsl:if>
															<xsl:for-each select="pfx2:Othr">
																<Othr>
																	<Id>
																		<xsl:value-of select="pfx2:Id"/>
																	</Id>
																	<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																		<xsl:for-each select="pfx2:SchmeNm">
																			<SchmeNm>
																				<xsl:choose>
																					<xsl:when test="string-length(current()/pfx2:Cd)>0">
																						<Cd>
																							<xsl:value-of select="current()/pfx2:Cd"/>
																						</Cd>
																					</xsl:when>
																					<xsl:otherwise>
																						<Prtry>
																							<xsl:value-of select="current()/pfx2:Prtry"/>
																						</Prtry>
																					</xsl:otherwise>
																				</xsl:choose>
																			</SchmeNm>
																		</xsl:for-each>
																	</xsl:if>
																	<xsl:if test="pfx2:Issr">
																		<Issr>
																			<xsl:value-of select="pfx2:Issr"/>
																		</Issr>
																	</xsl:if>
																</Othr>
															</xsl:for-each>
														</OrgId>
													</xsl:for-each>
												</xsl:when>
												<xsl:otherwise>
													<xsl:for-each select="current()/pfx2:PrvtId">
														<PrvtId>
															<xsl:for-each select="pfx2:DtAndPlcOfBirth">
																<DtAndPlcOfBirth>
																	<BirthDt>
																		<xsl:value-of select="pfx2:BirthDt"/>
																	</BirthDt>
																	<xsl:if test="pfx2:PrvcOfBirth">
																		<PrvcOfBirth>
																			<xsl:value-of select="pfx2:PrvcOfBirth"/>
																		</PrvcOfBirth>
																	</xsl:if>
																	<CityOfBirth>
																		<xsl:value-of select="pfx2:CityOfBirth"/>
																	</CityOfBirth>
																	<CtryOfBirth>
																		<xsl:value-of select="pfx2:CtryOfBirth"/>
																	</CtryOfBirth>
																</DtAndPlcOfBirth>
															</xsl:for-each>
															<xsl:for-each select="pfx2:Othr">
																<Othr>
																	<Id>
																		<xsl:value-of select="pfx2:Id"/>
																	</Id>
																	<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																		<xsl:for-each select="pfx2:SchmeNm">
																			<SchmeNm>
																				<xsl:choose>
																					<xsl:when test="string-length(current()/pfx2:Cd)>0">
																						<Cd>
																							<xsl:value-of select="current()/pfx2:Cd"/>
																						</Cd>
																					</xsl:when>
																					<xsl:otherwise>
																						<Prtry>
																							<xsl:value-of select="current()/pfx2:Prtry"/>
																						</Prtry>
																					</xsl:otherwise>
																				</xsl:choose>
																			</SchmeNm>
																		</xsl:for-each>
																	</xsl:if>
																	<xsl:if test="pfx2:Issr">
																		<Issr>
																			<xsl:value-of select="pfx2:Issr"/>
																		</Issr>
																	</xsl:if>
																</Othr>
															</xsl:for-each>
														</PrvtId>
													</xsl:for-each>
												</xsl:otherwise>
											</xsl:choose>
										</Id>
									</xsl:for-each>
								</xsl:if>
								<xsl:if test="pfx2:CtryOfRes">
									<CtryOfRes>
										<xsl:value-of select="pfx2:CtryOfRes"/>
									</CtryOfRes>
								</xsl:if>
								<xsl:for-each select="pfx2:CtctDtls">
									<CtctDtls>
										<xsl:if test="pfx2:NmPrfx">
											<NmPrfx>
												<xsl:value-of select="pfx2:NmPrfx"/>
											</NmPrfx>
										</xsl:if>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:if test="pfx2:PhneNb">
											<PhneNb>
												<xsl:value-of select="pfx2:PhneNb"/>
											</PhneNb>
										</xsl:if>
										<xsl:if test="pfx2:MobNb">
											<MobNb>
												<xsl:value-of select="pfx2:MobNb"/>
											</MobNb>
										</xsl:if>
										<xsl:if test="pfx2:FaxNb">
											<FaxNb>
												<xsl:value-of select="pfx2:FaxNb"/>
											</FaxNb>
										</xsl:if>
										<xsl:if test="pfx2:EmailAdr">
											<EmailAdr>
												<xsl:value-of select="pfx2:EmailAdr"/>
											</EmailAdr>
										</xsl:if>
										<xsl:if test="current()/pfx2:Othr[1]/pfx2:Id">
											<Othr>
												<xsl:value-of select="current()/pfx2:Othr[1]/pfx2:Id"/>
											</Othr>
										</xsl:if>
									</CtctDtls>
								</xsl:for-each>
							</Dbtr>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:InitnInf/pfx2:ActInf[pfx2:ActTp='DBTR'][1]/pfx2:Acct/pfx2:CashAcct">
							<DbtrAcct>
								<xsl:for-each select="pfx2:Id">
									<Id>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:IBAN)>0">
												<IBAN>
													<xsl:value-of select="current()/pfx2:IBAN"/>
												</IBAN>
											</xsl:when>
											<xsl:otherwise>
												<xsl:for-each select="current()/pfx2:Othr">
													<Othr>
														<Id>
															<xsl:value-of select="pfx2:Id"/>
														</Id>
														<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
															<xsl:for-each select="pfx2:SchmeNm">
																<SchmeNm>
																	<xsl:choose>
																		<xsl:when test="string-length(current()/pfx2:Cd)>0">
																			<Cd>
																				<xsl:value-of select="current()/pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="current()/pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</SchmeNm>
															</xsl:for-each>
														</xsl:if>
														<xsl:if test="pfx2:Issr">
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</xsl:if>
													</Othr>
												</xsl:for-each>
											</xsl:otherwise>
										</xsl:choose>
									</Id>
								</xsl:for-each>
								<xsl:for-each select="pfx2:Tp">
									<Tp>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:Cd)>0">
												<Cd>
													<xsl:value-of select="current()/pfx2:Cd"/>
												</Cd>
											</xsl:when>
											<xsl:otherwise>
												<Prtry>
													<xsl:value-of select="current()/pfx2:Prtry"/>
												</Prtry>
											</xsl:otherwise>
										</xsl:choose>
									</Tp>
								</xsl:for-each>
								<xsl:if test="pfx2:Ccy">
									<Ccy>
										<xsl:value-of select="pfx2:Ccy"/>
									</Ccy>
								</xsl:if>
								<xsl:if test="pfx2:Nm">
									<Nm>
										<xsl:value-of select="pfx2:Nm"/>
									</Nm>
								</xsl:if>
							</DbtrAcct>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='DBTRAGT'][1]/pfx2:Agt">
							<DbtrAgt>
								<xsl:choose>
									<xsl:when test="string-length(current()/pfx2:FinInstnId)>0">
										<xsl:for-each select="pfx2:FinInstnId">
											<FinInstnId>
												<xsl:if test="current()/pfx2:BICFI">
													<BIC>
														<xsl:value-of select="current()/pfx2:BICFI"/>
													</BIC>
												</xsl:if>
												<xsl:for-each select="pfx2:ClrSysMmbId">
													<ClrSysMmbId>
														<xsl:if test="string-length(current()/pfx2:ClrSysId/pfx2:Cd)>0  or string-length(current()/pfx2:ClrSysId/pfx2:Prtry)>0">
															<xsl:for-each select="pfx2:ClrSysId">
																<ClrSysId>
																	<xsl:choose>
																		<xsl:when test="string-length(current()/pfx2:Cd)>0">
																			<Cd>
																				<xsl:value-of select="current()/pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="current()/pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</ClrSysId>
															</xsl:for-each>
														</xsl:if>
														<MmbId>
															<xsl:value-of select="pfx2:MmbId"/>
														</MmbId>
													</ClrSysMmbId>
												</xsl:for-each>
												<xsl:if test="pfx2:Nm">
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
												</xsl:if>
												<xsl:for-each select="pfx2:PstlAdr">
													<PstlAdr>
														<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
														</xsl:if>
														<xsl:if test="pfx2:Dept">
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
														</xsl:if>
														<xsl:if test="pfx2:SubDept">
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
														</xsl:if>
														<xsl:if test="pfx2:StrtNm">
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
														</xsl:if>
														<xsl:if test="pfx2:BldgNb">
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
														</xsl:if>
														<xsl:if test="pfx2:PstCd">
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
														</xsl:if>
														<xsl:if test="pfx2:TwnNm">
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
														</xsl:if>
														<xsl:if test="pfx2:CtrySubDvsn">
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
														</xsl:if>
														<xsl:if test="pfx2:Ctry">
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
														</xsl:if>
														<xsl:for-each select="pfx2:AdrLine">
															<AdrLine>
																<xsl:value-of select="."/>
															</AdrLine>
														</xsl:for-each>
													</PstlAdr>
												</xsl:for-each>
												<xsl:for-each select="pfx2:Othr">
													<Othr>
														<Id>
															<xsl:value-of select="pfx2:Id"/>
														</Id>
														<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
															<xsl:for-each select="pfx2:SchmeNm">
																<SchmeNm>
																	<xsl:choose>
																		<xsl:when test="string-length(current()/pfx2:Cd)>0">
																			<Cd>
																				<xsl:value-of select="current()/pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="current()/pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</SchmeNm>
															</xsl:for-each>
														</xsl:if>
														<xsl:if test="pfx2:Issr">
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</xsl:if>
													</Othr>
												</xsl:for-each>
											</FinInstnId>
										</xsl:for-each>
									</xsl:when>
									<xsl:otherwise>
										<FinInstnId>
											<Othr>
												<Id>
													<xsl:value-of select="&quot;NOTPROVIDED&quot;"/>
												</Id>
											</Othr>
										</FinInstnId>
									</xsl:otherwise>
								</xsl:choose>
								<xsl:for-each select="pfx2:BrnchId">
									<BrnchId>
										<xsl:if test="pfx2:Id">
											<Id>
												<xsl:value-of select="pfx2:Id"/>
											</Id>
										</xsl:if>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
									</BrnchId>
								</xsl:for-each>
							</DbtrAgt>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='DBTRAGT'][1]/pfx2:Acct/pfx2:CashAcct">
							<DbtrAgtAcct>
								<xsl:for-each select="pfx2:Id">
									<Id>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:IBAN)>0">
												<IBAN>
													<xsl:value-of select="current()/pfx2:IBAN"/>
												</IBAN>
											</xsl:when>
											<xsl:otherwise>
												<xsl:for-each select="current()/pfx2:Othr">
													<Othr>
														<Id>
															<xsl:value-of select="pfx2:Id"/>
														</Id>
														<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
															<xsl:for-each select="pfx2:SchmeNm">
																<SchmeNm>
																	<xsl:choose>
																		<xsl:when test="string-length(current()/pfx2:Cd)>0">
																			<Cd>
																				<xsl:value-of select="current()/pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="current()/pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</SchmeNm>
															</xsl:for-each>
														</xsl:if>
														<xsl:if test="pfx2:Issr">
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</xsl:if>
													</Othr>
												</xsl:for-each>
											</xsl:otherwise>
										</xsl:choose>
									</Id>
								</xsl:for-each>
								<xsl:for-each select="pfx2:Tp">
									<Tp>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:Cd)>0">
												<Cd>
													<xsl:value-of select="current()/pfx2:Cd"/>
												</Cd>
											</xsl:when>
											<xsl:otherwise>
												<Prtry>
													<xsl:value-of select="current()/pfx2:Prtry"/>
												</Prtry>
											</xsl:otherwise>
										</xsl:choose>
									</Tp>
								</xsl:for-each>
								<xsl:if test="pfx2:Ccy">
									<Ccy>
										<xsl:value-of select="pfx2:Ccy"/>
									</Ccy>
								</xsl:if>
								<xsl:if test="pfx2:Nm">
									<Nm>
										<xsl:value-of select="pfx2:Nm"/>
									</Nm>
								</xsl:if>
							</DbtrAgtAcct>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='CDTRAGT'][1]/pfx2:Agt">
							<CdtrAgt>
								<xsl:choose>
									<xsl:when test="string-length(current()/pfx2:FinInstnId)>0">
										<xsl:for-each select="pfx2:FinInstnId">
											<FinInstnId>
												<xsl:if test="current()/pfx2:BICFI">
													<BIC>
														<xsl:value-of select="current()/pfx2:BICFI"/>
													</BIC>
												</xsl:if>
												<xsl:for-each select="pfx2:ClrSysMmbId">
													<ClrSysMmbId>
														<xsl:if test="string-length(current()/pfx2:ClrSysId/pfx2:Cd)>0  or string-length(current()/pfx2:ClrSysId/pfx2:Prtry)>0">
															<xsl:for-each select="pfx2:ClrSysId">
																<ClrSysId>
																	<xsl:choose>
																		<xsl:when test="string-length(current()/pfx2:Cd)>0">
																			<Cd>
																				<xsl:value-of select="current()/pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="current()/pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</ClrSysId>
															</xsl:for-each>
														</xsl:if>
														<MmbId>
															<xsl:value-of select="pfx2:MmbId"/>
														</MmbId>
													</ClrSysMmbId>
												</xsl:for-each>
												<xsl:if test="pfx2:Nm">
													<Nm>
														<xsl:value-of select="pfx2:Nm"/>
													</Nm>
												</xsl:if>
												<xsl:for-each select="pfx2:PstlAdr">
													<PstlAdr>
														<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
															<AdrTp>
																<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
															</AdrTp>
														</xsl:if>
														<xsl:if test="pfx2:Dept">
															<Dept>
																<xsl:value-of select="pfx2:Dept"/>
															</Dept>
														</xsl:if>
														<xsl:if test="pfx2:SubDept">
															<SubDept>
																<xsl:value-of select="pfx2:SubDept"/>
															</SubDept>
														</xsl:if>
														<xsl:if test="pfx2:StrtNm">
															<StrtNm>
																<xsl:value-of select="pfx2:StrtNm"/>
															</StrtNm>
														</xsl:if>
														<xsl:if test="pfx2:BldgNb">
															<BldgNb>
																<xsl:value-of select="pfx2:BldgNb"/>
															</BldgNb>
														</xsl:if>
														<xsl:if test="pfx2:PstCd">
															<PstCd>
																<xsl:value-of select="pfx2:PstCd"/>
															</PstCd>
														</xsl:if>
														<xsl:if test="pfx2:TwnNm">
															<TwnNm>
																<xsl:value-of select="pfx2:TwnNm"/>
															</TwnNm>
														</xsl:if>
														<xsl:if test="pfx2:CtrySubDvsn">
															<CtrySubDvsn>
																<xsl:value-of select="pfx2:CtrySubDvsn"/>
															</CtrySubDvsn>
														</xsl:if>
														<xsl:if test="pfx2:Ctry">
															<Ctry>
																<xsl:value-of select="pfx2:Ctry"/>
															</Ctry>
														</xsl:if>
														<xsl:for-each select="pfx2:AdrLine">
															<AdrLine>
																<xsl:value-of select="."/>
															</AdrLine>
														</xsl:for-each>
													</PstlAdr>
												</xsl:for-each>
												<xsl:for-each select="pfx2:Othr">
													<Othr>
														<Id>
															<xsl:value-of select="pfx2:Id"/>
														</Id>
														<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
															<xsl:for-each select="pfx2:SchmeNm">
																<SchmeNm>
																	<xsl:choose>
																		<xsl:when test="string-length(current()/pfx2:Cd)>0">
																			<Cd>
																				<xsl:value-of select="current()/pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="current()/pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</SchmeNm>
															</xsl:for-each>
														</xsl:if>
														<xsl:if test="pfx2:Issr">
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</xsl:if>
													</Othr>
												</xsl:for-each>
											</FinInstnId>
										</xsl:for-each>
									</xsl:when>
									<xsl:otherwise>
										<FinInstnId>
											<Othr>
												<Id>
													<xsl:value-of select="&quot;NOTPROVIDED&quot;"/>
												</Id>
											</Othr>
										</FinInstnId>
									</xsl:otherwise>
								</xsl:choose>
								<xsl:for-each select="pfx2:BrnchId">
									<BrnchId>
										<xsl:if test="pfx2:Id">
											<Id>
												<xsl:value-of select="pfx2:Id"/>
											</Id>
										</xsl:if>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:for-each select="pfx2:PstlAdr">
											<PstlAdr>
												<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
													<AdrTp>
														<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
													</AdrTp>
												</xsl:if>
												<xsl:if test="pfx2:Dept">
													<Dept>
														<xsl:value-of select="pfx2:Dept"/>
													</Dept>
												</xsl:if>
												<xsl:if test="pfx2:SubDept">
													<SubDept>
														<xsl:value-of select="pfx2:SubDept"/>
													</SubDept>
												</xsl:if>
												<xsl:if test="pfx2:StrtNm">
													<StrtNm>
														<xsl:value-of select="pfx2:StrtNm"/>
													</StrtNm>
												</xsl:if>
												<xsl:if test="pfx2:BldgNb">
													<BldgNb>
														<xsl:value-of select="pfx2:BldgNb"/>
													</BldgNb>
												</xsl:if>
												<xsl:if test="pfx2:PstCd">
													<PstCd>
														<xsl:value-of select="pfx2:PstCd"/>
													</PstCd>
												</xsl:if>
												<xsl:if test="pfx2:TwnNm">
													<TwnNm>
														<xsl:value-of select="pfx2:TwnNm"/>
													</TwnNm>
												</xsl:if>
												<xsl:if test="pfx2:CtrySubDvsn">
													<CtrySubDvsn>
														<xsl:value-of select="pfx2:CtrySubDvsn"/>
													</CtrySubDvsn>
												</xsl:if>
												<xsl:if test="pfx2:Ctry">
													<Ctry>
														<xsl:value-of select="pfx2:Ctry"/>
													</Ctry>
												</xsl:if>
												<xsl:for-each select="pfx2:AdrLine">
													<AdrLine>
														<xsl:value-of select="."/>
													</AdrLine>
												</xsl:for-each>
											</PstlAdr>
										</xsl:for-each>
									</BrnchId>
								</xsl:for-each>
							</CdtrAgt>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:ActInf[pfx2:ActTp='CDTRAGT'][1]/pfx2:Acct/pfx2:CashAcct">
							<CdtrAgtAcct>
								<xsl:for-each select="pfx2:Id">
									<Id>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:IBAN)>0">
												<IBAN>
													<xsl:value-of select="current()/pfx2:IBAN"/>
												</IBAN>
											</xsl:when>
											<xsl:otherwise>
												<xsl:for-each select="current()/pfx2:Othr">
													<Othr>
														<Id>
															<xsl:value-of select="pfx2:Id"/>
														</Id>
														<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
															<xsl:for-each select="pfx2:SchmeNm">
																<SchmeNm>
																	<xsl:choose>
																		<xsl:when test="string-length(current()/pfx2:Cd)>0">
																			<Cd>
																				<xsl:value-of select="current()/pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="current()/pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</SchmeNm>
															</xsl:for-each>
														</xsl:if>
														<xsl:if test="pfx2:Issr">
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</xsl:if>
													</Othr>
												</xsl:for-each>
											</xsl:otherwise>
										</xsl:choose>
									</Id>
								</xsl:for-each>
								<xsl:for-each select="pfx2:Tp">
									<Tp>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:Cd)>0">
												<Cd>
													<xsl:value-of select="current()/pfx2:Cd"/>
												</Cd>
											</xsl:when>
											<xsl:otherwise>
												<Prtry>
													<xsl:value-of select="current()/pfx2:Prtry"/>
												</Prtry>
											</xsl:otherwise>
										</xsl:choose>
									</Tp>
								</xsl:for-each>
								<xsl:if test="pfx2:Ccy">
									<Ccy>
										<xsl:value-of select="pfx2:Ccy"/>
									</Ccy>
								</xsl:if>
								<xsl:if test="pfx2:Nm">
									<Nm>
										<xsl:value-of select="pfx2:Nm"/>
									</Nm>
								</xsl:if>
							</CdtrAgtAcct>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:InitnInf/pfx2:ActInf[pfx2:ActTp='CDTR'][1]/pfx2:Pty">
							<Cdtr>
								<xsl:if test="pfx2:Nm">
									<Nm>
										<xsl:value-of select="pfx2:Nm"/>
									</Nm>
								</xsl:if>
								<xsl:for-each select="pfx2:PstlAdr">
									<PstlAdr>
										<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
											<AdrTp>
												<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
											</AdrTp>
										</xsl:if>
										<xsl:if test="pfx2:Dept">
											<Dept>
												<xsl:value-of select="pfx2:Dept"/>
											</Dept>
										</xsl:if>
										<xsl:if test="pfx2:SubDept">
											<SubDept>
												<xsl:value-of select="pfx2:SubDept"/>
											</SubDept>
										</xsl:if>
										<xsl:if test="pfx2:StrtNm">
											<StrtNm>
												<xsl:value-of select="pfx2:StrtNm"/>
											</StrtNm>
										</xsl:if>
										<xsl:if test="pfx2:BldgNb">
											<BldgNb>
												<xsl:value-of select="pfx2:BldgNb"/>
											</BldgNb>
										</xsl:if>
										<xsl:if test="pfx2:PstCd">
											<PstCd>
												<xsl:value-of select="pfx2:PstCd"/>
											</PstCd>
										</xsl:if>
										<xsl:if test="pfx2:TwnNm">
											<TwnNm>
												<xsl:value-of select="pfx2:TwnNm"/>
											</TwnNm>
										</xsl:if>
										<xsl:if test="pfx2:CtrySubDvsn">
											<CtrySubDvsn>
												<xsl:value-of select="pfx2:CtrySubDvsn"/>
											</CtrySubDvsn>
										</xsl:if>
										<xsl:if test="pfx2:Ctry">
											<Ctry>
												<xsl:value-of select="pfx2:Ctry"/>
											</Ctry>
										</xsl:if>
										<xsl:for-each select="pfx2:AdrLine">
											<AdrLine>
												<xsl:value-of select="."/>
											</AdrLine>
										</xsl:for-each>
									</PstlAdr>
								</xsl:for-each>
								<xsl:if test="string-length(current()/pfx2:Id/pfx2:OrgId)>0 or string-length(current()/pfx2:Id/pfx2:PrvtId)>0">
									<xsl:for-each select="pfx2:Id">
										<Id>
											<xsl:choose>
												<xsl:when test="string-length(current()/pfx2:OrgId)>0">
													<xsl:for-each select="current()/pfx2:OrgId">
														<OrgId>
															<xsl:if test="current()/pfx2:AnyBIC">
																<BICOrBEI>
																	<xsl:value-of select="current()/pfx2:AnyBIC"/>
																</BICOrBEI>
															</xsl:if>
															<xsl:for-each select="pfx2:Othr">
																<Othr>
																	<Id>
																		<xsl:value-of select="pfx2:Id"/>
																	</Id>
																	<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																		<xsl:for-each select="pfx2:SchmeNm">
																			<SchmeNm>
																				<xsl:choose>
																					<xsl:when test="string-length(current()/pfx2:Cd)>0">
																						<Cd>
																							<xsl:value-of select="current()/pfx2:Cd"/>
																						</Cd>
																					</xsl:when>
																					<xsl:otherwise>
																						<Prtry>
																							<xsl:value-of select="current()/pfx2:Prtry"/>
																						</Prtry>
																					</xsl:otherwise>
																				</xsl:choose>
																			</SchmeNm>
																		</xsl:for-each>
																	</xsl:if>
																	<xsl:if test="pfx2:Issr">
																		<Issr>
																			<xsl:value-of select="pfx2:Issr"/>
																		</Issr>
																	</xsl:if>
																</Othr>
															</xsl:for-each>
														</OrgId>
													</xsl:for-each>
												</xsl:when>
												<xsl:otherwise>
													<xsl:for-each select="current()/pfx2:PrvtId">
														<PrvtId>
															<xsl:for-each select="pfx2:DtAndPlcOfBirth">
																<DtAndPlcOfBirth>
																	<BirthDt>
																		<xsl:value-of select="pfx2:BirthDt"/>
																	</BirthDt>
																	<xsl:if test="pfx2:PrvcOfBirth">
																		<PrvcOfBirth>
																			<xsl:value-of select="pfx2:PrvcOfBirth"/>
																		</PrvcOfBirth>
																	</xsl:if>
																	<CityOfBirth>
																		<xsl:value-of select="pfx2:CityOfBirth"/>
																	</CityOfBirth>
																	<CtryOfBirth>
																		<xsl:value-of select="pfx2:CtryOfBirth"/>
																	</CtryOfBirth>
																</DtAndPlcOfBirth>
															</xsl:for-each>
															<xsl:for-each select="pfx2:Othr">
																<Othr>
																	<Id>
																		<xsl:value-of select="pfx2:Id"/>
																	</Id>
																	<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																		<xsl:for-each select="pfx2:SchmeNm">
																			<SchmeNm>
																				<xsl:choose>
																					<xsl:when test="string-length(current()/pfx2:Cd)>0">
																						<Cd>
																							<xsl:value-of select="current()/pfx2:Cd"/>
																						</Cd>
																					</xsl:when>
																					<xsl:otherwise>
																						<Prtry>
																							<xsl:value-of select="current()/pfx2:Prtry"/>
																						</Prtry>
																					</xsl:otherwise>
																				</xsl:choose>
																			</SchmeNm>
																		</xsl:for-each>
																	</xsl:if>
																	<xsl:if test="pfx2:Issr">
																		<Issr>
																			<xsl:value-of select="pfx2:Issr"/>
																		</Issr>
																	</xsl:if>
																</Othr>
															</xsl:for-each>
														</PrvtId>
													</xsl:for-each>
												</xsl:otherwise>
											</xsl:choose>
										</Id>
									</xsl:for-each>
								</xsl:if>
								<xsl:if test="pfx2:CtryOfRes">
									<CtryOfRes>
										<xsl:value-of select="pfx2:CtryOfRes"/>
									</CtryOfRes>
								</xsl:if>
								<xsl:for-each select="pfx2:CtctDtls">
									<CtctDtls>
										<xsl:if test="pfx2:NmPrfx">
											<NmPrfx>
												<xsl:value-of select="pfx2:NmPrfx"/>
											</NmPrfx>
										</xsl:if>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:if test="pfx2:PhneNb">
											<PhneNb>
												<xsl:value-of select="pfx2:PhneNb"/>
											</PhneNb>
										</xsl:if>
										<xsl:if test="pfx2:MobNb">
											<MobNb>
												<xsl:value-of select="pfx2:MobNb"/>
											</MobNb>
										</xsl:if>
										<xsl:if test="pfx2:FaxNb">
											<FaxNb>
												<xsl:value-of select="pfx2:FaxNb"/>
											</FaxNb>
										</xsl:if>
										<xsl:if test="pfx2:EmailAdr">
											<EmailAdr>
												<xsl:value-of select="pfx2:EmailAdr"/>
											</EmailAdr>
										</xsl:if>
										<xsl:if test="current()/pfx2:Othr[1]/pfx2:Id">
											<Othr>
												<xsl:value-of select="current()/pfx2:Othr[1]/pfx2:Id"/>
											</Othr>
										</xsl:if>
									</CtctDtls>
								</xsl:for-each>
							</Cdtr>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:InitnInf/pfx2:ActInf[pfx2:ActTp='CDTR'][1]/pfx2:Acct/pfx2:CashAcct">
							<CdtrAcct>
								<xsl:for-each select="pfx2:Id">
									<Id>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:IBAN)>0">
												<IBAN>
													<xsl:value-of select="current()/pfx2:IBAN"/>
												</IBAN>
											</xsl:when>
											<xsl:otherwise>
												<xsl:for-each select="current()/pfx2:Othr">
													<Othr>
														<Id>
															<xsl:value-of select="pfx2:Id"/>
														</Id>
														<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
															<xsl:for-each select="pfx2:SchmeNm">
																<SchmeNm>
																	<xsl:choose>
																		<xsl:when test="string-length(current()/pfx2:Cd)>0">
																			<Cd>
																				<xsl:value-of select="current()/pfx2:Cd"/>
																			</Cd>
																		</xsl:when>
																		<xsl:otherwise>
																			<Prtry>
																				<xsl:value-of select="current()/pfx2:Prtry"/>
																			</Prtry>
																		</xsl:otherwise>
																	</xsl:choose>
																</SchmeNm>
															</xsl:for-each>
														</xsl:if>
														<xsl:if test="pfx2:Issr">
															<Issr>
																<xsl:value-of select="pfx2:Issr"/>
															</Issr>
														</xsl:if>
													</Othr>
												</xsl:for-each>
											</xsl:otherwise>
										</xsl:choose>
									</Id>
								</xsl:for-each>
								<xsl:for-each select="pfx2:Tp">
									<Tp>
										<xsl:choose>
											<xsl:when test="string-length(current()/pfx2:Cd)>0">
												<Cd>
													<xsl:value-of select="current()/pfx2:Cd"/>
												</Cd>
											</xsl:when>
											<xsl:otherwise>
												<Prtry>
													<xsl:value-of select="current()/pfx2:Prtry"/>
												</Prtry>
											</xsl:otherwise>
										</xsl:choose>
									</Tp>
								</xsl:for-each>
								<xsl:if test="pfx2:Ccy">
									<Ccy>
										<xsl:value-of select="pfx2:Ccy"/>
									</Ccy>
								</xsl:if>
								<xsl:if test="pfx2:Nm">
									<Nm>
										<xsl:value-of select="pfx2:Nm"/>
									</Nm>
								</xsl:if>
							</CdtrAcct>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:InitnInf/pfx2:ActInf[pfx2:ActTp='ULTMTCDTR'][1]/pfx2:Pty">
							<UltmtCdtr>
								<xsl:if test="pfx2:Nm">
									<Nm>
										<xsl:value-of select="pfx2:Nm"/>
									</Nm>
								</xsl:if>
								<xsl:for-each select="pfx2:PstlAdr">
									<PstlAdr>
										<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
											<AdrTp>
												<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
											</AdrTp>
										</xsl:if>
										<xsl:if test="pfx2:Dept">
											<Dept>
												<xsl:value-of select="pfx2:Dept"/>
											</Dept>
										</xsl:if>
										<xsl:if test="pfx2:SubDept">
											<SubDept>
												<xsl:value-of select="pfx2:SubDept"/>
											</SubDept>
										</xsl:if>
										<xsl:if test="pfx2:StrtNm">
											<StrtNm>
												<xsl:value-of select="pfx2:StrtNm"/>
											</StrtNm>
										</xsl:if>
										<xsl:if test="pfx2:BldgNb">
											<BldgNb>
												<xsl:value-of select="pfx2:BldgNb"/>
											</BldgNb>
										</xsl:if>
										<xsl:if test="pfx2:PstCd">
											<PstCd>
												<xsl:value-of select="pfx2:PstCd"/>
											</PstCd>
										</xsl:if>
										<xsl:if test="pfx2:TwnNm">
											<TwnNm>
												<xsl:value-of select="pfx2:TwnNm"/>
											</TwnNm>
										</xsl:if>
										<xsl:if test="pfx2:CtrySubDvsn">
											<CtrySubDvsn>
												<xsl:value-of select="pfx2:CtrySubDvsn"/>
											</CtrySubDvsn>
										</xsl:if>
										<xsl:if test="pfx2:Ctry">
											<Ctry>
												<xsl:value-of select="pfx2:Ctry"/>
											</Ctry>
										</xsl:if>
										<xsl:for-each select="pfx2:AdrLine">
											<AdrLine>
												<xsl:value-of select="."/>
											</AdrLine>
										</xsl:for-each>
									</PstlAdr>
								</xsl:for-each>
								<xsl:if test="string-length(current()/pfx2:Id/pfx2:OrgId)>0 or string-length(current()/pfx2:Id/pfx2:PrvtId)>0">
									<xsl:for-each select="pfx2:Id">
										<Id>
											<xsl:choose>
												<xsl:when test="string-length(current()/pfx2:OrgId)>0">
													<xsl:for-each select="current()/pfx2:OrgId">
														<OrgId>
															<xsl:if test="current()/pfx2:AnyBIC">
																<BICOrBEI>
																	<xsl:value-of select="current()/pfx2:AnyBIC"/>
																</BICOrBEI>
															</xsl:if>
															<xsl:for-each select="pfx2:Othr">
																<Othr>
																	<Id>
																		<xsl:value-of select="pfx2:Id"/>
																	</Id>
																	<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																		<xsl:for-each select="pfx2:SchmeNm">
																			<SchmeNm>
																				<xsl:choose>
																					<xsl:when test="string-length(current()/pfx2:Cd)>0">
																						<Cd>
																							<xsl:value-of select="current()/pfx2:Cd"/>
																						</Cd>
																					</xsl:when>
																					<xsl:otherwise>
																						<Prtry>
																							<xsl:value-of select="current()/pfx2:Prtry"/>
																						</Prtry>
																					</xsl:otherwise>
																				</xsl:choose>
																			</SchmeNm>
																		</xsl:for-each>
																	</xsl:if>
																	<xsl:if test="pfx2:Issr">
																		<Issr>
																			<xsl:value-of select="pfx2:Issr"/>
																		</Issr>
																	</xsl:if>
																</Othr>
															</xsl:for-each>
														</OrgId>
													</xsl:for-each>
												</xsl:when>
												<xsl:otherwise>
													<xsl:for-each select="current()/pfx2:PrvtId">
														<PrvtId>
															<xsl:for-each select="pfx2:DtAndPlcOfBirth">
																<DtAndPlcOfBirth>
																	<BirthDt>
																		<xsl:value-of select="pfx2:BirthDt"/>
																	</BirthDt>
																	<xsl:if test="pfx2:PrvcOfBirth">
																		<PrvcOfBirth>
																			<xsl:value-of select="pfx2:PrvcOfBirth"/>
																		</PrvcOfBirth>
																	</xsl:if>
																	<CityOfBirth>
																		<xsl:value-of select="pfx2:CityOfBirth"/>
																	</CityOfBirth>
																	<CtryOfBirth>
																		<xsl:value-of select="pfx2:CtryOfBirth"/>
																	</CtryOfBirth>
																</DtAndPlcOfBirth>
															</xsl:for-each>
															<xsl:for-each select="pfx2:Othr">
																<Othr>
																	<Id>
																		<xsl:value-of select="pfx2:Id"/>
																	</Id>
																	<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																		<xsl:for-each select="pfx2:SchmeNm">
																			<SchmeNm>
																				<xsl:choose>
																					<xsl:when test="string-length(current()/pfx2:Cd)>0">
																						<Cd>
																							<xsl:value-of select="current()/pfx2:Cd"/>
																						</Cd>
																					</xsl:when>
																					<xsl:otherwise>
																						<Prtry>
																							<xsl:value-of select="current()/pfx2:Prtry"/>
																						</Prtry>
																					</xsl:otherwise>
																				</xsl:choose>
																			</SchmeNm>
																		</xsl:for-each>
																	</xsl:if>
																	<xsl:if test="pfx2:Issr">
																		<Issr>
																			<xsl:value-of select="pfx2:Issr"/>
																		</Issr>
																	</xsl:if>
																</Othr>
															</xsl:for-each>
														</PrvtId>
													</xsl:for-each>
												</xsl:otherwise>
											</xsl:choose>
										</Id>
									</xsl:for-each>
								</xsl:if>
								<xsl:if test="pfx2:CtryOfRes">
									<CtryOfRes>
										<xsl:value-of select="pfx2:CtryOfRes"/>
									</CtryOfRes>
								</xsl:if>
								<xsl:for-each select="pfx2:CtctDtls">
									<CtctDtls>
										<xsl:if test="pfx2:NmPrfx">
											<NmPrfx>
												<xsl:value-of select="pfx2:NmPrfx"/>
											</NmPrfx>
										</xsl:if>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:if test="pfx2:PhneNb">
											<PhneNb>
												<xsl:value-of select="pfx2:PhneNb"/>
											</PhneNb>
										</xsl:if>
										<xsl:if test="pfx2:MobNb">
											<MobNb>
												<xsl:value-of select="pfx2:MobNb"/>
											</MobNb>
										</xsl:if>
										<xsl:if test="pfx2:FaxNb">
											<FaxNb>
												<xsl:value-of select="pfx2:FaxNb"/>
											</FaxNb>
										</xsl:if>
										<xsl:if test="pfx2:EmailAdr">
											<EmailAdr>
												<xsl:value-of select="pfx2:EmailAdr"/>
											</EmailAdr>
										</xsl:if>
										<xsl:if test="current()/pfx2:Othr[1]/pfx2:Id">
											<Othr>
												<xsl:value-of select="current()/pfx2:Othr[1]/pfx2:Id"/>
											</Othr>
										</xsl:if>
									</CtctDtls>
								</xsl:for-each>
							</UltmtCdtr>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:InitnInf/pfx2:OthrInf/pfx2:InstrForCdtrAgt">
							<InstrForCdtrAgt>
								<xsl:if test="pfx2:Cd">
									<Cd>
										<xsl:value-of select="pfx2:Cd"/>
									</Cd>
								</xsl:if>
								<xsl:if test="pfx2:InstrInf">
									<InstrInf>
										<xsl:value-of select="pfx2:InstrInf"/>
									</InstrInf>
								</xsl:if>
							</InstrForCdtrAgt>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:IntrBkInf/pfx2:OthrInf/pfx2:InstrForNxtAgt">
							<InstrForNxtAgt>
								<xsl:if test="pfx2:Cd">
									<Cd>
										<xsl:value-of select="pfx2:Cd"/>
									</Cd>
								</xsl:if>
								<xsl:if test="pfx2:InstrInf">
									<InstrInf>
										<xsl:value-of select="pfx2:InstrInf"/>
									</InstrInf>
								</xsl:if>
							</InstrForNxtAgt>
						</xsl:for-each>
						<xsl:if test="string-length(current()/pfx2:InitnInf/pfx2:OthrInf/pfx2:Purp/pfx2:Cd)>0 or string-length(current()/pfx2:InitnInf/pfx2:OthrInf/pfx2:Purp/pfx2:Prtry)>0">
							<xsl:for-each select="current()/pfx2:InitnInf/pfx2:OthrInf/pfx2:Purp">
								<Purp>
									<xsl:choose>
										<xsl:when test="string-length(current()/pfx2:Cd)>0">
											<Cd>
												<xsl:value-of select="current()/pfx2:Cd"/>
											</Cd>
										</xsl:when>
										<xsl:otherwise>
											<Prtry>
												<xsl:value-of select="current()/pfx2:Prtry"/>
											</Prtry>
										</xsl:otherwise>
									</xsl:choose>
								</Purp>
							</xsl:for-each>
						</xsl:if>
						<xsl:for-each select="current()/pfx2:InitnInf/pfx2:OthrInf/pfx2:RgltryRptg">
							<RgltryRptg>
								<xsl:if test="pfx2:DbtCdtRptgInd">
									<DbtCdtRptgInd>
										<xsl:value-of select="pfx2:DbtCdtRptgInd"/>
									</DbtCdtRptgInd>
								</xsl:if>
								<xsl:for-each select="pfx2:Authrty">
									<Authrty>
										<xsl:if test="pfx2:Nm">
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
										</xsl:if>
										<xsl:if test="pfx2:Ctry">
											<Ctry>
												<xsl:value-of select="pfx2:Ctry"/>
											</Ctry>
										</xsl:if>
									</Authrty>
								</xsl:for-each>
								<xsl:for-each select="pfx2:Dtls">
									<Dtls>
										<xsl:if test="pfx2:Tp">
											<Tp>
												<xsl:value-of select="pfx2:Tp"/>
											</Tp>
										</xsl:if>
										<xsl:if test="pfx2:Dt">
											<Dt>
												<xsl:value-of select="pfx2:Dt"/>
											</Dt>
										</xsl:if>
										<xsl:if test="pfx2:Ctry">
											<Ctry>
												<xsl:value-of select="pfx2:Ctry"/>
											</Ctry>
										</xsl:if>
										<xsl:if test="pfx2:Cd">
											<Cd>
												<xsl:value-of select="pfx2:Cd"/>
											</Cd>
										</xsl:if>
										<xsl:if test="pfx2:Amt">
											<Amt>
												<xsl:attribute name="Ccy">
													<xsl:value-of select="pfx2:Amt/@Ccy"/>
												</xsl:attribute>
												<xsl:value-of select="pfx2:Amt"/>
											</Amt>
										</xsl:if>
										<xsl:for-each select="pfx2:Inf">
											<Inf>
												<xsl:value-of select="."/>
											</Inf>
										</xsl:for-each>
									</Dtls>
								</xsl:for-each>
							</RgltryRptg>
						</xsl:for-each>
						<xsl:for-each select="current()/pfx2:InitnInf/pfx2:OthrInf/pfx2:RltdRmtInf">
							<RltdRmtInf>
								<xsl:if test="pfx2:RmtId">
									<RmtId>
										<xsl:value-of select="pfx2:RmtId"/>
									</RmtId>
								</xsl:if>
							</RltdRmtInf>
						</xsl:for-each>
						<RmtInf>
							<xsl:if test="normalize-space(../../pfx2:ITLHdr/pfx2:ITLFlow/pfx2:ITLFlowCd) ='ICHSIC' and current()/pfx2:InitnInf/pfx2:ActInf[pfx2:ActTp='CDTR']/pfx2:Acct/pfx2:VrtlAcctInd=&quot;true&quot;">
								<Ustrd>
									<xsl:value-of select="concat(&quot;/VACC//&quot;,current()/pfx2:InitnInf/pfx2:ActInf[pfx2:ActTp='CDTR']/pfx2:Acct/pfx2:VrtlAcct,&quot;/&quot;)"/>
								</Ustrd>
							</xsl:if>
							<xsl:for-each select="current()/pfx2:InitnInf/pfx2:OthrInf/pfx2:RmtInf/pfx2:Ustrd">
								<Ustrd>
									<xsl:value-of select="."/>
								</Ustrd>
							</xsl:for-each>
							<xsl:for-each select="current()/pfx2:InitnInf/pfx2:OthrInf/pfx2:RmtInf/pfx2:Strd">
								<Strd>
									<xsl:for-each select="pfx2:RfrdDocInf">
										<RfrdDocInf>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:for-each select="pfx2:CdOrPrtry">
														<CdOrPrtry>
															<xsl:choose>
																<xsl:when test="exists(current()/pfx2:Cd)">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</CdOrPrtry>
													</xsl:for-each>
													<xsl:if test="pfx2:Issr">
														<Issr>
															<xsl:value-of select="pfx2:Issr"/>
														</Issr>
													</xsl:if>
												</Tp>
											</xsl:for-each>
											<xsl:if test="pfx2:Nb">
												<Nb>
													<xsl:value-of select="pfx2:Nb"/>
												</Nb>
											</xsl:if>
											<xsl:if test="pfx2:RltdDt">
												<RltdDt>
													<xsl:value-of select="pfx2:RltdDt"/>
												</RltdDt>
											</xsl:if>
										</RfrdDocInf>
									</xsl:for-each>
									<xsl:for-each select="pfx2:RfrdDocAmt">
										<RfrdDocAmt>
											<xsl:if test="exists(pfx2:DuePyblAmt) and string-length(pfx2:DuePyblAmt)>0">
												<DuePyblAmt>
													<xsl:attribute name="Ccy">
														<xsl:value-of select="pfx2:DuePyblAmt/@Ccy"/>
													</xsl:attribute>
													<xsl:value-of select="pfx2:DuePyblAmt"/>
												</DuePyblAmt>
											</xsl:if>
											<xsl:if test="exists(pfx2:DscntApldAmt[1]/pfx2:Amt) and string-length(pfx2:DscntApldAmt[1]/pfx2:Amt)>0">
												<DscntApldAmt>
													<xsl:attribute name="Ccy">
														<xsl:value-of select="current()/pfx2:DscntApldAmt[1]/pfx2:Amt/@Ccy"/>
													</xsl:attribute>
													<xsl:value-of select="current()/pfx2:DscntApldAmt[1]/pfx2:Amt"/>
												</DscntApldAmt>
											</xsl:if>
											<xsl:if test="exists(pfx2:CdtNoteAmt) and string-length(pfx2:CdtNoteAmt)>0">
												<CdtNoteAmt>
													<xsl:attribute name="Ccy">
														<xsl:value-of select="pfx2:CdtNoteAmt/@Ccy"/>
													</xsl:attribute>
													<xsl:value-of select="pfx2:CdtNoteAmt"/>
												</CdtNoteAmt>
											</xsl:if>
											<xsl:if test="exists(current()/pfx2:TaxAmt[1]/pfx2:Amt) and string-length(current()/pfx2:TaxAmt[1]/pfx2:Amt)>0">
												<TaxAmt>
													<xsl:attribute name="Ccy">
														<xsl:value-of select="current()/pfx2:TaxAmt[1]/pfx2:Amt/@Ccy"/>
													</xsl:attribute>
													<xsl:value-of select="current()/pfx2:TaxAmt[1]/pfx2:Amt"/>
												</TaxAmt>
											</xsl:if>
											<xsl:for-each select="pfx2:AdjstmntAmtAndRsn">
												<AdjstmntAmtAndRsn>
													<Amt>
														<xsl:attribute name="Ccy">
															<xsl:value-of select="pfx2:Amt/@Ccy"/>
														</xsl:attribute>
														<xsl:value-of select="pfx2:Amt"/>
													</Amt>
													<xsl:if test="pfx2:CdtDbtInd">
														<CdtDbtInd>
															<xsl:value-of select="pfx2:CdtDbtInd"/>
														</CdtDbtInd>
													</xsl:if>
													<xsl:if test="pfx2:Rsn">
														<Rsn>
															<xsl:value-of select="pfx2:Rsn"/>
														</Rsn>
													</xsl:if>
													<xsl:if test="pfx2:AddtlInf">
														<AddtlInf>
															<xsl:value-of select="pfx2:AddtlInf"/>
														</AddtlInf>
													</xsl:if>
												</AdjstmntAmtAndRsn>
											</xsl:for-each>
											<xsl:if test="exists(pfx2:RmtdAmt) and string-length(pfx2:RmtdAmt)>0">
												<RmtdAmt>
													<xsl:attribute name="Ccy">
														<xsl:value-of select="pfx2:RmtdAmt/@Ccy"/>
													</xsl:attribute>
													<xsl:value-of select="pfx2:RmtdAmt"/>
												</RmtdAmt>
											</xsl:if>
										</RfrdDocAmt>
									</xsl:for-each>
									<xsl:for-each select="pfx2:CdtrRefInf">
										<CdtrRefInf>
											<xsl:for-each select="pfx2:Tp">
												<Tp>
													<xsl:for-each select="pfx2:CdOrPrtry">
														<CdOrPrtry>
															<xsl:choose>
																<xsl:when test="exists(current()/pfx2:Cd)">
																	<Cd>
																		<xsl:value-of select="current()/pfx2:Cd"/>
																	</Cd>
																</xsl:when>
																<xsl:otherwise>
																	<Prtry>
																		<xsl:value-of select="current()/pfx2:Prtry"/>
																	</Prtry>
																</xsl:otherwise>
															</xsl:choose>
														</CdOrPrtry>
													</xsl:for-each>
													<xsl:if test="pfx2:Issr">
														<Issr>
															<xsl:value-of select="pfx2:Issr"/>
														</Issr>
													</xsl:if>
												</Tp>
											</xsl:for-each>
											<Ref>
												<xsl:value-of select="pfx2:Ref"/>
											</Ref>
										</CdtrRefInf>
									</xsl:for-each>
									<xsl:for-each select="pfx2:Invcr">
										<Invcr>
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
											<xsl:for-each select="pfx2:PstlAdr">
												<PstlAdr>
													<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
														<AdrTp>
															<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
														</AdrTp>
													</xsl:if>
													<xsl:if test="pfx2:Dept">
														<Dept>
															<xsl:value-of select="pfx2:Dept"/>
														</Dept>
													</xsl:if>
													<xsl:if test="pfx2:SubDept">
														<SubDept>
															<xsl:value-of select="pfx2:SubDept"/>
														</SubDept>
													</xsl:if>
													<xsl:if test="pfx2:StrtNm">
														<StrtNm>
															<xsl:value-of select="pfx2:StrtNm"/>
														</StrtNm>
													</xsl:if>
													<xsl:if test="pfx2:BldgNb">
														<BldgNb>
															<xsl:value-of select="pfx2:BldgNb"/>
														</BldgNb>
													</xsl:if>
													<xsl:if test="pfx2:PstCd">
														<PstCd>
															<xsl:value-of select="pfx2:PstCd"/>
														</PstCd>
													</xsl:if>
													<xsl:if test="pfx2:TwnNm">
														<TwnNm>
															<xsl:value-of select="pfx2:TwnNm"/>
														</TwnNm>
													</xsl:if>
													<xsl:if test="pfx2:CtrySubDvsn">
														<CtrySubDvsn>
															<xsl:value-of select="pfx2:CtrySubDvsn"/>
														</CtrySubDvsn>
													</xsl:if>
													<xsl:if test="pfx2:Ctry">
														<Ctry>
															<xsl:value-of select="pfx2:Ctry"/>
														</Ctry>
													</xsl:if>
													<xsl:for-each select="pfx2:AdrLine">
														<AdrLine>
															<xsl:value-of select="."/>
														</AdrLine>
													</xsl:for-each>
												</PstlAdr>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(current()/pfx2:OrgId)">
															<OrgId>
																<BICOrBEI>
																	<xsl:value-of select="current()/pfx2:OrgId/pfx2:AnyBIC"/>
																</BICOrBEI>
																<xsl:for-each select="current()/pfx2:OrgId/pfx2:Othr">
																	<Othr>
																		<Id>
																			<xsl:value-of select="current()/pfx2:Id"/>
																		</Id>
																		<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																			<SchmeNm>
																				<xsl:choose>
																					<xsl:when test="exists(current()/pfx2:SchmeNm/pfx2:Cd)">
																						<Cd>
																							<xsl:value-of select="current()/pfx2:SchmeNm/pfx2:Cd"/>
																						</Cd>
																					</xsl:when>
																					<xsl:otherwise>
																						<Prtry>
																							<xsl:value-of select="current()/pfx2:SchmeNm/pfx2:Prtry"/>
																						</Prtry>
																					</xsl:otherwise>
																				</xsl:choose>
																			</SchmeNm>
																		</xsl:if>
																		<xsl:if test="current()/pfx2:Issr">
																			<Issr>
																				<xsl:value-of select="current()/pfx2:Issr"/>
																			</Issr>
																		</xsl:if>
																	</Othr>
																</xsl:for-each>
															</OrgId>
														</xsl:when>
														<xsl:otherwise>
															<PrvtId>
																<DtAndPlcOfBirth>
																	<BirthDt>
																		<xsl:value-of select="current()/pfx2:PrvtId/pfx2:DtAndPlcOfBirth/pfx2:BirthDt"/>
																	</BirthDt>
																	<xsl:if test="current()/pfx2:PrvtId/pfx2:DtAndPlcOfBirth/pfx2:PrvcOfBirth">
																		<PrvcOfBirth>
																			<xsl:value-of select="current()/pfx2:PrvtId/pfx2:DtAndPlcOfBirth/pfx2:PrvcOfBirth"/>
																		</PrvcOfBirth>
																	</xsl:if>
																	<CityOfBirth>
																		<xsl:value-of select="current()/pfx2:PrvtId/pfx2:DtAndPlcOfBirth/pfx2:CityOfBirth"/>
																	</CityOfBirth>
																	<CtryOfBirth>
																		<xsl:value-of select="current()/pfx2:PrvtId/pfx2:DtAndPlcOfBirth/pfx2:CtryOfBirth"/>
																	</CtryOfBirth>
																</DtAndPlcOfBirth>
																<xsl:for-each select="current()/pfx2:PrvtId/pfx2:Othr">
																	<Othr>
																		<Id>
																			<xsl:value-of select="current()/pfx2:Id"/>
																		</Id>
																		<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																			<SchmeNm>
																				<xsl:choose>
																					<xsl:when test="exists(current()/pfx2:SchmeNm/pfx2:Cd)">
																						<Cd>
																							<xsl:value-of select="current()/pfx2:SchmeNm/pfx2:Cd"/>
																						</Cd>
																					</xsl:when>
																					<xsl:otherwise>
																						<Prtry>
																							<xsl:value-of select="current()/pfx2:SchmeNm/pfx2:Prtry"/>
																						</Prtry>
																					</xsl:otherwise>
																				</xsl:choose>
																			</SchmeNm>
																		</xsl:if>
																		<xsl:if test="current()/pfx2:Issr">
																			<Issr>
																				<xsl:value-of select="current()/pfx2:Issr"/>
																			</Issr>
																		</xsl:if>
																	</Othr>
																</xsl:for-each>
															</PrvtId>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<CtryOfRes>
												<xsl:value-of select="pfx2:CtryOfRes"/>
											</CtryOfRes>
											<xsl:for-each select="pfx2:CtctDtls">
												<CtctDtls>
													<xsl:if test="pfx2:NmPrfx">
														<NmPrfx>
															<xsl:value-of select="pfx2:NmPrfx"/>
														</NmPrfx>
													</xsl:if>
													<xsl:if test="pfx2:Nm">
														<Nm>
															<xsl:value-of select="pfx2:Nm"/>
														</Nm>
													</xsl:if>
													<xsl:if test="pfx2:PhneNb">
														<PhneNb>
															<xsl:value-of select="pfx2:PhneNb"/>
														</PhneNb>
													</xsl:if>
													<xsl:if test="pfx2:MobNb">
														<MobNb>
															<xsl:value-of select="pfx2:MobNb"/>
														</MobNb>
													</xsl:if>
													<xsl:if test="pfx2:FaxNb">
														<FaxNb>
															<xsl:value-of select="pfx2:FaxNb"/>
														</FaxNb>
													</xsl:if>
													<xsl:if test="pfx2:EmailAdr">
														<EmailAdr>
															<xsl:value-of select="pfx2:EmailAdr"/>
														</EmailAdr>
													</xsl:if>
													<xsl:if test="current()/pfx2:Othr[1]/pfx2:Id">
														<Othr>
															<xsl:value-of select="current()/pfx2:Othr[1]/pfx2:Id"/>
														</Othr>
													</xsl:if>
												</CtctDtls>
											</xsl:for-each>
										</Invcr>
									</xsl:for-each>
									<xsl:for-each select="pfx2:Invcee">
										<Invcee>
											<Nm>
												<xsl:value-of select="pfx2:Nm"/>
											</Nm>
											<xsl:for-each select="pfx2:PstlAdr">
												<PstlAdr>
													<xsl:if test="current()/pfx2:AdrTp/pfx2:Cd">
														<AdrTp>
															<xsl:value-of select="current()/pfx2:AdrTp/pfx2:Cd"/>
														</AdrTp>
													</xsl:if>
													<xsl:if test="pfx2:Dept">
														<Dept>
															<xsl:value-of select="pfx2:Dept"/>
														</Dept>
													</xsl:if>
													<xsl:if test="pfx2:SubDept">
														<SubDept>
															<xsl:value-of select="pfx2:SubDept"/>
														</SubDept>
													</xsl:if>
													<xsl:if test="pfx2:StrtNm">
														<StrtNm>
															<xsl:value-of select="pfx2:StrtNm"/>
														</StrtNm>
													</xsl:if>
													<xsl:if test="pfx2:BldgNb">
														<BldgNb>
															<xsl:value-of select="pfx2:BldgNb"/>
														</BldgNb>
													</xsl:if>
													<xsl:if test="pfx2:PstCd">
														<PstCd>
															<xsl:value-of select="pfx2:PstCd"/>
														</PstCd>
													</xsl:if>
													<xsl:if test="pfx2:TwnNm">
														<TwnNm>
															<xsl:value-of select="pfx2:TwnNm"/>
														</TwnNm>
													</xsl:if>
													<xsl:if test="pfx2:CtrySubDvsn">
														<CtrySubDvsn>
															<xsl:value-of select="pfx2:CtrySubDvsn"/>
														</CtrySubDvsn>
													</xsl:if>
													<xsl:if test="pfx2:Ctry">
														<Ctry>
															<xsl:value-of select="pfx2:Ctry"/>
														</Ctry>
													</xsl:if>
													<xsl:for-each select="pfx2:AdrLine">
														<AdrLine>
															<xsl:value-of select="."/>
														</AdrLine>
													</xsl:for-each>
												</PstlAdr>
											</xsl:for-each>
											<xsl:for-each select="pfx2:Id">
												<Id>
													<xsl:choose>
														<xsl:when test="exists(current()/pfx2:OrgId)">
															<OrgId>
																<BICOrBEI>
																	<xsl:value-of select="current()/pfx2:OrgId/pfx2:AnyBIC"/>
																</BICOrBEI>
																<xsl:for-each select="current()/pfx2:OrgId/pfx2:Othr">
																	<Othr>
																		<Id>
																			<xsl:value-of select="current()/pfx2:Id"/>
																		</Id>
																		<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																			<SchmeNm>
																				<xsl:choose>
																					<xsl:when test="exists(current()/pfx2:SchmeNm/pfx2:Cd)">
																						<Cd>
																							<xsl:value-of select="current()/pfx2:SchmeNm/pfx2:Cd"/>
																						</Cd>
																					</xsl:when>
																					<xsl:otherwise>
																						<Prtry>
																							<xsl:value-of select="current()/pfx2:SchmeNm/pfx2:Prtry"/>
																						</Prtry>
																					</xsl:otherwise>
																				</xsl:choose>
																			</SchmeNm>
																		</xsl:if>
																		<xsl:if test="current()/pfx2:Issr">
																			<Issr>
																				<xsl:value-of select="current()/pfx2:Issr"/>
																			</Issr>
																		</xsl:if>
																	</Othr>
																</xsl:for-each>
															</OrgId>
														</xsl:when>
														<xsl:otherwise>
															<PrvtId>
																<DtAndPlcOfBirth>
																	<BirthDt>
																		<xsl:value-of select="current()/pfx2:PrvtId/pfx2:DtAndPlcOfBirth/pfx2:BirthDt"/>
																	</BirthDt>
																	<xsl:if test="current()/pfx2:PrvtId/pfx2:DtAndPlcOfBirth/pfx2:PrvcOfBirth">
																		<PrvcOfBirth>
																			<xsl:value-of select="current()/pfx2:PrvtId/pfx2:DtAndPlcOfBirth/pfx2:PrvcOfBirth"/>
																		</PrvcOfBirth>
																	</xsl:if>
																	<CityOfBirth>
																		<xsl:value-of select="current()/pfx2:PrvtId/pfx2:DtAndPlcOfBirth/pfx2:CityOfBirth"/>
																	</CityOfBirth>
																	<CtryOfBirth>
																		<xsl:value-of select="current()/pfx2:PrvtId/pfx2:DtAndPlcOfBirth/pfx2:CtryOfBirth"/>
																	</CtryOfBirth>
																</DtAndPlcOfBirth>
																<xsl:for-each select="current()/pfx2:PrvtId/pfx2:Othr">
																	<Othr>
																		<Id>
																			<xsl:value-of select="current()/pfx2:Id"/>
																		</Id>
																		<xsl:if test="string-length(current()/pfx2:SchmeNm/pfx2:Cd)>0 or string-length(current()/pfx2:SchmeNm/pfx2:Prtry)>0">
																			<SchmeNm>
																				<xsl:choose>
																					<xsl:when test="exists(current()/pfx2:SchmeNm/pfx2:Cd)">
																						<Cd>
																							<xsl:value-of select="current()/pfx2:SchmeNm/pfx2:Cd"/>
																						</Cd>
																					</xsl:when>
																					<xsl:otherwise>
																						<Prtry>
																							<xsl:value-of select="current()/pfx2:SchmeNm/pfx2:Prtry"/>
																						</Prtry>
																					</xsl:otherwise>
																				</xsl:choose>
																			</SchmeNm>
																		</xsl:if>
																		<xsl:if test="current()/pfx2:Issr">
																			<Issr>
																				<xsl:value-of select="current()/pfx2:Issr"/>
																			</Issr>
																		</xsl:if>
																	</Othr>
																</xsl:for-each>
															</PrvtId>
														</xsl:otherwise>
													</xsl:choose>
												</Id>
											</xsl:for-each>
											<CtryOfRes>
												<xsl:value-of select="pfx2:CtryOfRes"/>
											</CtryOfRes>
											<xsl:for-each select="pfx2:CtctDtls">
												<CtctDtls>
													<xsl:if test="pfx2:NmPrfx">
														<NmPrfx>
															<xsl:value-of select="pfx2:NmPrfx"/>
														</NmPrfx>
													</xsl:if>
													<xsl:if test="pfx2:Nm">
														<Nm>
															<xsl:value-of select="pfx2:Nm"/>
														</Nm>
													</xsl:if>
													<xsl:if test="pfx2:PhneNb">
														<PhneNb>
															<xsl:value-of select="pfx2:PhneNb"/>
														</PhneNb>
													</xsl:if>
													<xsl:if test="pfx2:MobNb">
														<MobNb>
															<xsl:value-of select="pfx2:MobNb"/>
														</MobNb>
													</xsl:if>
													<xsl:if test="pfx2:FaxNb">
														<FaxNb>
															<xsl:value-of select="pfx2:FaxNb"/>
														</FaxNb>
													</xsl:if>
													<xsl:if test="pfx2:EmailAdr">
														<EmailAdr>
															<xsl:value-of select="pfx2:EmailAdr"/>
														</EmailAdr>
													</xsl:if>
													<xsl:if test="current()/pfx2:Othr[1]/pfx2:Id">
														<Othr>
															<xsl:value-of select="current()/pfx2:Othr[1]/pfx2:Id"/>
														</Othr>
													</xsl:if>
												</CtctDtls>
											</xsl:for-each>
										</Invcee>
									</xsl:for-each>
									<xsl:for-each select="pfx2:AddtlRmtInf">
										<AddtlRmtInf>
											<xsl:value-of select="."/>
										</AddtlRmtInf>
									</xsl:for-each>
								</Strd>
							</xsl:for-each>
						</RmtInf>
					</CdtTrfTxInf>
				</xsl:for-each>
			</FIToFICstmrCdtTrf>
		</Document>
	</xsl:template>
</xsl:stylesheet>